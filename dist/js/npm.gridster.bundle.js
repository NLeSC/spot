(window.webpackJsonp=window.webpackJsonp||[]).push([["npm.gridster"],{cc37:function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(jQuery) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_LOCAL_MODULE_0__;var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_LOCAL_MODULE_1__;var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_LOCAL_MODULE_2__;var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! gridster.js - v0.5.6 - 2014-09-25 - * http://gridster.net/ - Copyright (c) 2014 ducksboard; Licensed MIT */ (function(t,i){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ "802c")], __WEBPACK_AMD_DEFINE_FACTORY__ = (i),\n\t\t\t\t__WEBPACK_LOCAL_MODULE_0__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__)):undefined})(this,function(t){function i(i){return i[0]&&t.isPlainObject(i[0])?this.data=i[0]:this.el=i,this.isCoords=!0,this.coords={},this.init(),this}var e=i.prototype;return e.init=function(){this.set(),this.original_coords=this.get()},e.set=function(t,i){var e=this.el;if(e&&!t&&(this.data=e.offset(),this.data.width=e.width(),this.data.height=e.height()),e&&t&&!i){var s=e.offset();this.data.top=s.top,this.data.left=s.left}var r=this.data;return r.left===void 0&&(r.left=r.x1),r.top===void 0&&(r.top=r.y1),this.coords.x1=r.left,this.coords.y1=r.top,this.coords.x2=r.left+r.width,this.coords.y2=r.top+r.height,this.coords.cx=r.left+r.width/2,this.coords.cy=r.top+r.height/2,this.coords.width=r.width,this.coords.height=r.height,this.coords.el=e||!1,this},e.update=function(i){if(!i&&!this.el)return this;if(i){var e=t.extend({},this.data,i);return this.data=e,this.set(!0,!0)}return this.set(!0),this},e.get=function(){return this.coords},e.destroy=function(){this.el.removeData("coords"),delete this.el},t.fn.coords=function(){if(this.data("coords"))return this.data("coords");var t=new i(this,arguments[0]);return this.data("coords",t),t},i}),function(t,i){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ "802c"),__WEBPACK_LOCAL_MODULE_0__], __WEBPACK_AMD_DEFINE_FACTORY__ = (i),\n\t\t\t\t__WEBPACK_LOCAL_MODULE_1__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__)):undefined}(this,function(t){function i(i,s,r){this.options=t.extend(e,r),this.$element=i,this.last_colliders=[],this.last_colliders_coords=[],this.set_colliders(s),this.init()}var e={colliders_context:document.body,overlapping_region:"C"};i.defaults=e;var s=i.prototype;return s.init=function(){this.find_collisions()},s.overlaps=function(t,i){var e=!1,s=!1;return(i.x1>=t.x1&&i.x1<=t.x2||i.x2>=t.x1&&i.x2<=t.x2||t.x1>=i.x1&&t.x2<=i.x2)&&(e=!0),(i.y1>=t.y1&&i.y1<=t.y2||i.y2>=t.y1&&i.y2<=t.y2||t.y1>=i.y1&&t.y2<=i.y2)&&(s=!0),e&&s},s.detect_overlapping_region=function(t,i){var e="",s="";return t.y1>i.cy&&t.y1<i.y2&&(e="N"),t.y2>i.y1&&t.y2<i.cy&&(e="S"),t.x1>i.cx&&t.x1<i.x2&&(s="W"),t.x2>i.x1&&t.x2<i.cx&&(s="E"),e+s||"C"},s.calculate_overlapped_area_coords=function(i,e){var s=Math.max(i.x1,e.x1),r=Math.max(i.y1,e.y1),o=Math.min(i.x2,e.x2),a=Math.min(i.y2,e.y2);return t({left:s,top:r,width:o-s,height:a-r}).coords().get()},s.calculate_overlapped_area=function(t){return t.width*t.height},s.manage_colliders_start_stop=function(i,e,s){for(var r=this.last_colliders_coords,o=0,a=r.length;a>o;o++)-1===t.inArray(r[o],i)&&e.call(this,r[o]);for(var n=0,h=i.length;h>n;n++)-1===t.inArray(i[n],r)&&s.call(this,i[n])},s.find_collisions=function(i){for(var e=this,s=this.options.overlapping_region,r=[],o=[],a=this.colliders||this.$colliders,n=a.length,h=e.$element.coords().update(i||!1).get();n--;){var _=e.$colliders?t(a[n]):a[n],d=_.isCoords?_:_.coords(),l=d.get(),c=e.overlaps(h,l);if(c){var p=e.detect_overlapping_region(h,l);if(p===s||"all"===s){var g=e.calculate_overlapped_area_coords(h,l),u=e.calculate_overlapped_area(g),f={area:u,area_coords:g,region:p,coords:l,player_coords:h,el:_};e.options.on_overlap&&e.options.on_overlap.call(this,f),r.push(d),o.push(f)}}}return(e.options.on_overlap_stop||e.options.on_overlap_start)&&this.manage_colliders_start_stop(r,e.options.on_overlap_start,e.options.on_overlap_stop),this.last_colliders_coords=r,o},s.get_closest_colliders=function(t){var i=this.find_collisions(t);return i.sort(function(t,i){return"C"===t.region&&"C"===i.region?t.coords.y1<i.coords.y1||t.coords.x1<i.coords.x1?-1:1:t.area<i.area?1:1}),i},s.set_colliders=function(i){"string"==typeof i||i instanceof t?this.$colliders=t(i,this.options.colliders_context).not(this.$element):this.colliders=t(i)},t.fn.collision=function(t,e){return new i(this,t,e)},i}),function(t){t.delay=function(t,i){var e=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},i)},t.debounce=function(t,i,e){var s;return function(){var r=this,o=arguments,a=function(){s=null,e||t.apply(r,o)};e&&!s&&t.apply(r,o),clearTimeout(s),s=setTimeout(a,i)}},t.throttle=function(t,i){var e,s,r,o,a,n,h=debounce(function(){a=o=!1},i);return function(){e=this,s=arguments;var _=function(){r=null,a&&t.apply(e,s),h()};return r||(r=setTimeout(_,i)),o?a=!0:n=t.apply(e,s),h(),o=!0,n}}}(window),function(t,i){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ "802c")], __WEBPACK_AMD_DEFINE_FACTORY__ = (i),\n\t\t\t\t__WEBPACK_LOCAL_MODULE_2__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__)):undefined}(this,function(t){function i(i,s){this.options=t.extend({},e,s),this.$document=t(document),this.$container=t(i),this.$dragitems=t(this.options.items,this.$container),this.is_dragging=!1,this.player_min_left=0+this.options.offset_left,this.id=h(),this.ns=".gridster-draggable-"+this.id,this.init()}var e={items:"li",distance:1,limit:!0,offset_left:0,autoscroll:!0,ignore_dragging:["INPUT","TEXTAREA","SELECT","BUTTON"],handle:null,container_width:0,move_element:!0,helper:!1,remove_helper:!0},s=t(window),r={x:"left",y:"top"},o=!!("ontouchstart"in window),a=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},n=0,h=function(){return++n+""};i.defaults=e;var _=i.prototype;return _.init=function(){var i=this.$container.css("position");this.calculate_dimensions(),this.$container.css("position","static"===i?"relative":i),this.disabled=!1,this.events(),t(window).bind(this.nsEvent("resize"),throttle(t.proxy(this.calculate_dimensions,this),200))},_.nsEvent=function(t){return(t||"")+this.ns},_.events=function(){this.pointer_events={start:this.nsEvent("touchstart")+" "+this.nsEvent("mousedown"),move:this.nsEvent("touchmove")+" "+this.nsEvent("mousemove"),end:this.nsEvent("touchend")+" "+this.nsEvent("mouseup")},this.$container.on(this.nsEvent("selectstart"),t.proxy(this.on_select_start,this)),this.$container.on(this.pointer_events.start,this.options.items,t.proxy(this.drag_handler,this)),this.$document.on(this.pointer_events.end,t.proxy(function(t){this.is_dragging=!1,this.disabled||(this.$document.off(this.pointer_events.move),this.drag_start&&this.on_dragstop(t))},this))},_.get_actual_pos=function(t){var i=t.position();return i},_.get_mouse_pos=function(t){if(t.originalEvent&&t.originalEvent.touches){var i=t.originalEvent;t=i.touches.length?i.touches[0]:i.changedTouches[0]}return{left:t.clientX,top:t.clientY}},_.get_offset=function(i){i.preventDefault();var e=this.get_mouse_pos(i),s=Math.round(e.left-this.mouse_init_pos.left),r=Math.round(e.top-this.mouse_init_pos.top),o=Math.round(this.el_init_offset.left+s-this.baseX+t(window).scrollLeft()-this.win_offset_x),a=Math.round(this.el_init_offset.top+r-this.baseY+t(window).scrollTop()-this.win_offset_y);return this.options.limit&&(o>this.player_max_left?o=this.player_max_left:this.player_min_left>o&&(o=this.player_min_left)),{position:{left:o,top:a},pointer:{left:e.left,top:e.top,diff_left:s+(t(window).scrollLeft()-this.win_offset_x),diff_top:r+(t(window).scrollTop()-this.win_offset_y)}}},_.get_drag_data=function(t){var i=this.get_offset(t);return i.$player=this.$player,i.$helper=this.helper?this.$helper:this.$player,i},_.set_limits=function(t){return t||(t=this.$container.width()),this.player_max_left=t-this.player_width+-this.options.offset_left,this.options.container_width=t,this},_.scroll_in=function(i,e){var o,n=r[i],h=50,_=30,d="x"===i,l=d?this.window_width:this.window_height,c=d?t(document).width():t(document).height(),p=d?this.$player.width():this.$player.height(),g=s["scroll"+a(n)](),u=g,f=u+l,w=f-h,m=u+h,y=u+e.pointer[n],v=c-l+p;return y>=w&&(o=g+_,v>o&&(s["scroll"+a(n)](o),this["scroll_offset_"+i]+=_)),m>=y&&(o=g-_,o>0&&(s["scroll"+a(n)](o),this["scroll_offset_"+i]-=_)),this},_.manage_scroll=function(t){this.scroll_in("x",t),this.scroll_in("y",t)},_.calculate_dimensions=function(){this.window_height=s.height(),this.window_width=s.width()},_.drag_handler=function(i){if(i.target.nodeName,!this.disabled&&(1===i.which||o)&&!this.ignore_drag(i)){var e=this,s=!0;return this.$player=t(i.currentTarget),this.el_init_pos=this.get_actual_pos(this.$player),this.mouse_init_pos=this.get_mouse_pos(i),this.offsetY=this.mouse_init_pos.top-this.el_init_pos.top,this.$document.on(this.pointer_events.move,function(t){var i=e.get_mouse_pos(t),r=Math.abs(i.left-e.mouse_init_pos.left),o=Math.abs(i.top-e.mouse_init_pos.top);return r>e.options.distance||o>e.options.distance?s?(s=!1,e.on_dragstart.call(e,t),!1):(e.is_dragging===!0&&e.on_dragmove.call(e,t),!1):!1}),o?void 0:!1}},_.on_dragstart=function(i){if(i.preventDefault(),this.is_dragging)return this;this.drag_start=this.is_dragging=!0;var e=this.$container.offset();return this.baseX=Math.round(e.left),this.baseY=Math.round(e.top),this.initial_container_width=this.options.container_width||this.$container.width(),"clone"===this.options.helper?(this.$helper=this.$player.clone().appendTo(this.$container).addClass("helper"),this.helper=!0):this.helper=!1,this.win_offset_y=t(window).scrollTop(),this.win_offset_x=t(window).scrollLeft(),this.scroll_offset_y=0,this.scroll_offset_x=0,this.el_init_offset=this.$player.offset(),this.player_width=this.$player.width(),this.player_height=this.$player.height(),this.set_limits(this.options.container_width),this.options.start&&this.options.start.call(this.$player,i,this.get_drag_data(i)),!1},_.on_dragmove=function(t){var i=this.get_drag_data(t);this.options.autoscroll&&this.manage_scroll(i),this.options.move_element&&(this.helper?this.$helper:this.$player).css({position:"absolute",left:i.position.left,top:i.position.top});var e=this.last_position||i.position;return i.prev_position=e,this.options.drag&&this.options.drag.call(this.$player,t,i),this.last_position=i.position,!1},_.on_dragstop=function(t){var i=this.get_drag_data(t);return this.drag_start=!1,this.options.stop&&this.options.stop.call(this.$player,t,i),this.helper&&this.options.remove_helper&&this.$helper.remove(),!1},_.on_select_start=function(t){return this.disabled||this.ignore_drag(t)?void 0:!1},_.enable=function(){this.disabled=!1},_.disable=function(){this.disabled=!0},_.destroy=function(){this.disable(),this.$container.off(this.ns),this.$document.off(this.ns),t(window).off(this.ns),t.removeData(this.$container,"drag")},_.ignore_drag=function(i){return this.options.handle?!t(i.target).is(this.options.handle):t.isFunction(this.options.ignore_dragging)?this.options.ignore_dragging(i):t(i.target).is(this.options.ignore_dragging.join(", "))},t.fn.drag=function(t){return new i(this,t)},i}),function(t,i){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ "802c"),__WEBPACK_LOCAL_MODULE_2__,__WEBPACK_LOCAL_MODULE_1__], __WEBPACK_AMD_DEFINE_FACTORY__ = (i),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined}(this,function(t,i){function e(i,e){this.options=t.extend(!0,{},s,e),this.$el=t(i),this.$wrapper=this.$el.parent(),this.$widgets=this.$el.children(this.options.widget_selector).addClass("gs-w"),this.widgets=[],this.$changed=t([]),this.wrapper_width=this.$wrapper.width(),this.min_widget_width=2*this.options.widget_margins[0]+this.options.widget_base_dimensions[0],this.min_widget_height=2*this.options.widget_margins[1]+this.options.widget_base_dimensions[1],this.generated_stylesheets=[],this.$style_tags=t([]),this.options.auto_init&&this.init()}var s={namespace:"",widget_selector:"li",widget_margins:[10,10],widget_base_dimensions:[400,225],extra_rows:0,extra_cols:0,min_cols:1,max_cols:1/0,min_rows:15,max_size_x:!1,autogrow_cols:!1,autogenerate_stylesheet:!0,avoid_overlapped_widgets:!0,auto_init:!0,serialize_params:function(t,i){return{col:i.col,row:i.row,size_x:i.size_x,size_y:i.size_y}},collision:{},draggable:{items:".gs-w",distance:4,ignore_dragging:i.defaults.ignore_dragging.slice(0)},resize:{enabled:!1,axes:["both"],handle_append_to:"",handle_class:"gs-resize-handle",max_size:[1/0,1/0],min_size:[1,1]}};e.defaults=s,e.generated_stylesheets=[],e.sort_by_row_asc=function(i){return i=i.sort(function(i,e){return i.row||(i=t(i).coords().grid,e=t(e).coords().grid),i.row>e.row?1:-1})},e.sort_by_row_and_col_asc=function(t){return t=t.sort(function(t,i){return t.row>i.row||t.row===i.row&&t.col>i.col?1:-1})},e.sort_by_col_asc=function(t){return t=t.sort(function(t,i){return t.col>i.col?1:-1})},e.sort_by_row_desc=function(t){return t=t.sort(function(t,i){return t.row+t.size_y<i.row+i.size_y?1:-1})};var r=e.prototype;return r.init=function(){this.options.resize.enabled&&this.setup_resize(),this.generate_grid_and_stylesheet(),this.get_widgets_from_DOM(),this.set_dom_grid_height(),this.set_dom_grid_width(),this.$wrapper.addClass("ready"),this.draggable(),this.options.resize.enabled&&this.resizable(),t(window).bind("resize.gridster",throttle(t.proxy(this.recalculate_faux_grid,this),200))},r.disable=function(){return this.$wrapper.find(".player-revert").removeClass("player-revert"),this.drag_api.disable(),this},r.enable=function(){return this.drag_api.enable(),this},r.disable_resize=function(){return this.$el.addClass("gs-resize-disabled"),this.resize_api.disable(),this},r.enable_resize=function(){return this.$el.removeClass("gs-resize-disabled"),this.resize_api.enable(),this},r.add_widget=function(i,e,s,r,o,a,n){var h;e||(e=1),s||(s=1),!r&!o?h=this.next_position(e,s):(h={col:r,row:o,size_x:e,size_y:s},this.empty_cells(r,o,e,s));var _=t(i).attr({"data-col":h.col,"data-row":h.row,"data-sizex":e,"data-sizey":s}).addClass("gs-w").appendTo(this.$el).hide();return this.$widgets=this.$widgets.add(_),this.register_widget(_),this.add_faux_rows(h.size_y),a&&this.set_widget_max_size(_,a),n&&this.set_widget_min_size(_,n),this.set_dom_grid_width(),this.set_dom_grid_height(),this.drag_api.set_limits(this.cols*this.min_widget_width),_.fadeIn()},r.set_widget_min_size=function(t,i){if(t="number"==typeof t?this.$widgets.eq(t):t,!t.length)return this;var e=t.data("coords").grid;return e.min_size_x=i[0],e.min_size_y=i[1],this},r.set_widget_max_size=function(t,i){if(t="number"==typeof t?this.$widgets.eq(t):t,!t.length)return this;var e=t.data("coords").grid;return e.max_size_x=i[0],e.max_size_y=i[1],this},r.add_resize_handle=function(i){var e=this.options.resize.handle_append_to;return t(this.resize_handle_tpl).appendTo(e?t(e,i):i),this},r.resize_widget=function(t,i,e,s){var r=t.coords().grid,o=r.col,a=this.options.max_cols,n=r.size_y,h=r.col,_=h;i||(i=r.size_x),e||(e=r.size_y),1/0!==a&&(i=Math.min(i,a-o+1)),e>n&&this.add_faux_rows(Math.max(e-n,0));var d=o+i-1;d>this.cols&&this.add_faux_cols(d-this.cols);var l={col:_,row:r.row,size_x:i,size_y:e};return this.mutate_widget_in_gridmap(t,r,l),this.set_dom_grid_height(),this.set_dom_grid_width(),s&&s.call(this,l.size_x,l.size_y),t},r.mutate_widget_in_gridmap=function(i,e,s){e.size_x;var r=e.size_y,o=this.get_cells_occupied(e),a=this.get_cells_occupied(s),n=[];t.each(o.cols,function(i,e){-1===t.inArray(e,a.cols)&&n.push(e)});var h=[];t.each(a.cols,function(i,e){-1===t.inArray(e,o.cols)&&h.push(e)});var _=[];t.each(o.rows,function(i,e){-1===t.inArray(e,a.rows)&&_.push(e)});var d=[];if(t.each(a.rows,function(i,e){-1===t.inArray(e,o.rows)&&d.push(e)}),this.remove_from_gridmap(e),h.length){var l=[s.col,s.row,s.size_x,Math.min(r,s.size_y),i];this.empty_cells.apply(this,l)}if(d.length){var c=[s.col,s.row,s.size_x,s.size_y,i];this.empty_cells.apply(this,c)}if(e.col=s.col,e.row=s.row,e.size_x=s.size_x,e.size_y=s.size_y,this.add_to_gridmap(s,i),i.removeClass("player-revert"),i.data("coords").update({width:s.size_x*this.options.widget_base_dimensions[0]+2*(s.size_x-1)*this.options.widget_margins[0],height:s.size_y*this.options.widget_base_dimensions[1]+2*(s.size_y-1)*this.options.widget_margins[1]}),i.attr({"data-col":s.col,"data-row":s.row,"data-sizex":s.size_x,"data-sizey":s.size_y}),n.length){var p=[n[0],s.row,n.length,Math.min(r,s.size_y),i];this.remove_empty_cells.apply(this,p)}if(_.length){var g=[s.col,s.row,s.size_x,s.size_y,i];this.remove_empty_cells.apply(this,g)}return this.move_widget_up(i),this},r.empty_cells=function(i,e,s,r,o){var a=this.widgets_below({col:i,row:e-r,size_x:s,size_y:r});return a.not(o).each(t.proxy(function(i,s){var o=t(s).coords().grid;if(e+r-1>=o.row){var a=e+r-o.row;this.move_widget_down(t(s),a)}},this)),this.set_dom_grid_height(),this},r.remove_empty_cells=function(i,e,s,r,o){var a=this.widgets_below({col:i,row:e,size_x:s,size_y:r});return a.not(o).each(t.proxy(function(i,e){this.move_widget_up(t(e),r)},this)),this.set_dom_grid_height(),this},r.next_position=function(t,i){t||(t=1),i||(i=1);for(var s,r=this.gridmap,o=r.length,a=[],n=1;o>n;n++){s=r[n].length;for(var h=1;s>=h;h++){var _=this.can_move_to({size_x:t,size_y:i},n,h);_&&a.push({col:n,row:h,size_y:i,size_x:t})}}return a.length?e.sort_by_row_and_col_asc(a)[0]:!1},r.remove_widget=function(i,e,s){var r=i instanceof t?i:t(i),o=r.coords().grid;t.isFunction(e)&&(s=e,e=!1),this.cells_occupied_by_placeholder={},this.$widgets=this.$widgets.not(r);var a=this.widgets_below(r);return this.remove_from_gridmap(o),r.fadeOut(t.proxy(function(){r.remove(),e||a.each(t.proxy(function(i,e){this.move_widget_up(t(e),o.size_y)},this)),this.set_dom_grid_height(),s&&s.call(this,i)},this)),this},r.remove_all_widgets=function(i){return this.$widgets.each(t.proxy(function(t,e){this.remove_widget(e,!0,i)},this)),this},r.serialize=function(i){return i||(i=this.$widgets),i.map(t.proxy(function(i,e){var s=t(e);return this.options.serialize_params(s,s.coords().grid)},this)).get()},r.serialize_changed=function(){return this.serialize(this.$changed)},r.dom_to_coords=function(t){return{col:parseInt(t.attr("data-col"),10),row:parseInt(t.attr("data-row"),10),size_x:parseInt(t.attr("data-sizex"),10)||1,size_y:parseInt(t.attr("data-sizey"),10)||1,max_size_x:parseInt(t.attr("data-max-sizex"),10)||!1,max_size_y:parseInt(t.attr("data-max-sizey"),10)||!1,min_size_x:parseInt(t.attr("data-min-sizex"),10)||!1,min_size_y:parseInt(t.attr("data-min-sizey"),10)||!1,el:t}},r.register_widget=function(i){var e=i instanceof jQuery,s=e?this.dom_to_coords(i):i,r=!1;e||(i=s.el);var o=this.can_go_widget_up(s);return o&&(s.row=o,i.attr("data-row",o),this.$el.trigger("gridster:positionchanged",[s]),r=!0),this.options.avoid_overlapped_widgets&&!this.can_move_to({size_x:s.size_x,size_y:s.size_y},s.col,s.row)&&(t.extend(s,this.next_position(s.size_x,s.size_y)),i.attr({"data-col":s.col,"data-row":s.row,"data-sizex":s.size_x,"data-sizey":s.size_y}),r=!0),i.data("coords",i.coords()),i.data("coords").grid=s,this.add_to_gridmap(s,i),this.options.resize.enabled&&this.add_resize_handle(i),r},r.update_widget_position=function(t,i){return this.for_each_cell_occupied(t,function(t,e){return this.gridmap[t]?(this.gridmap[t][e]=i,void 0):this}),this},r.remove_from_gridmap=function(t){return this.update_widget_position(t,!1)},r.add_to_gridmap=function(i,e){if(this.update_widget_position(i,e||i.el),i.el){var s=this.widgets_below(i.el);s.each(t.proxy(function(i,e){this.move_widget_up(t(e))},this))}},r.draggable=function(){var i=this,e=t.extend(!0,{},this.options.draggable,{offset_left:this.options.widget_margins[0],offset_top:this.options.widget_margins[1],container_width:this.cols*this.min_widget_width,limit:!0,start:function(e,s){i.$widgets.filter(".player-revert").removeClass("player-revert"),i.$player=t(this),i.$helper=t(s.$helper),i.helper=!i.$helper.is(i.$player),i.on_start_drag.call(i,e,s),i.$el.trigger("gridster:dragstart")},stop:function(t,e){i.on_stop_drag.call(i,t,e),i.$el.trigger("gridster:dragstop")},drag:throttle(function(t,e){i.on_drag.call(i,t,e),i.$el.trigger("gridster:drag")},60)});return this.drag_api=this.$el.drag(e),this},r.resizable=function(){return this.resize_api=this.$el.drag({items:"."+this.options.resize.handle_class,offset_left:this.options.widget_margins[0],container_width:this.container_width,move_element:!1,resize:!0,limit:this.options.autogrow_cols?!1:!0,start:t.proxy(this.on_start_resize,this),stop:t.proxy(function(i,e){delay(t.proxy(function(){this.on_stop_resize(i,e)},this),120)},this),drag:throttle(t.proxy(this.on_resize,this),60)}),this},r.setup_resize=function(){this.resize_handle_class=this.options.resize.handle_class;var i=this.options.resize.axes,e=\'<span class="\'+this.resize_handle_class+" "+this.resize_handle_class+\'-{type}" />\';return this.resize_handle_tpl=t.map(i,function(t){return e.replace("{type}",t)}).join(""),t.isArray(this.options.draggable.ignore_dragging)&&this.options.draggable.ignore_dragging.push("."+this.resize_handle_class),this},r.on_start_drag=function(i,e){this.$helper.add(this.$player).add(this.$wrapper).addClass("dragging"),this.highest_col=this.get_highest_occupied_cell().col,this.$player.addClass("player"),this.player_grid_data=this.$player.coords().grid,this.placeholder_grid_data=t.extend({},this.player_grid_data),this.set_dom_grid_height(this.$el.height()+this.player_grid_data.size_y*this.min_widget_height),this.set_dom_grid_width(this.cols);var s=this.player_grid_data.size_x,r=this.cols-this.highest_col;this.options.autogrow_cols&&s>=r&&this.add_faux_cols(Math.min(s-r,1));var o=this.faux_grid,a=this.$player.data("coords").coords;this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data),this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data),this.last_cols=[],this.last_rows=[],this.collision_api=this.$helper.collision(o,this.options.collision),this.$preview_holder=t("<"+this.$player.get(0).tagName+" />",{"class":"preview-holder","data-row":this.$player.attr("data-row"),"data-col":this.$player.attr("data-col"),css:{width:a.width,height:a.height}}).appendTo(this.$el),this.options.draggable.start&&this.options.draggable.start.call(this,i,e)},r.on_drag=function(t,i){if(null===this.$player)return!1;var e={left:i.position.left+this.baseX,top:i.position.top+this.baseY};if(this.options.autogrow_cols){var s=this.placeholder_grid_data.col+this.placeholder_grid_data.size_x-1;s>=this.cols-1&&this.options.max_cols>=this.cols+1&&(this.add_faux_cols(1),this.set_dom_grid_width(this.cols+1),this.drag_api.set_limits(this.container_width)),this.collision_api.set_colliders(this.faux_grid)}this.colliders_data=this.collision_api.get_closest_colliders(e),this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column),this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row),this.helper&&this.$player&&this.$player.css({left:i.position.left,top:i.position.top}),this.options.draggable.drag&&this.options.draggable.drag.call(this,t,i)},r.on_stop_drag=function(t,i){this.$helper.add(this.$player).add(this.$wrapper).removeClass("dragging"),i.position.left=i.position.left+this.baseX,i.position.top=i.position.top+this.baseY,this.colliders_data=this.collision_api.get_closest_colliders(i.position),this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column),this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row),this.$player.addClass("player-revert").removeClass("player").attr({"data-col":this.placeholder_grid_data.col,"data-row":this.placeholder_grid_data.row}).css({left:"",top:""}),this.$changed=this.$changed.add(this.$player),this.cells_occupied_by_player=this.get_cells_occupied(this.placeholder_grid_data),this.set_cells_player_occupies(this.placeholder_grid_data.col,this.placeholder_grid_data.row),this.$player.coords().grid.row=this.placeholder_grid_data.row,this.$player.coords().grid.col=this.placeholder_grid_data.col,this.options.draggable.stop&&this.options.draggable.stop.call(this,t,i),this.$preview_holder.remove(),this.$player=null,this.$helper=null,this.placeholder_grid_data={},this.player_grid_data={},this.cells_occupied_by_placeholder={},this.cells_occupied_by_player={},this.set_dom_grid_height(),this.set_dom_grid_width(),this.options.autogrow_cols&&this.drag_api.set_limits(this.cols*this.min_widget_width)},r.on_start_resize=function(i,e){this.$resized_widget=e.$player.closest(".gs-w"),this.resize_coords=this.$resized_widget.coords(),this.resize_wgd=this.resize_coords.grid,this.resize_initial_width=this.resize_coords.coords.width,this.resize_initial_height=this.resize_coords.coords.height,this.resize_initial_sizex=this.resize_coords.grid.size_x,this.resize_initial_sizey=this.resize_coords.grid.size_y,this.resize_initial_col=this.resize_coords.grid.col,this.resize_last_sizex=this.resize_initial_sizex,this.resize_last_sizey=this.resize_initial_sizey,this.resize_max_size_x=Math.min(this.resize_wgd.max_size_x||this.options.resize.max_size[0],this.options.max_cols-this.resize_initial_col+1),this.resize_max_size_y=this.resize_wgd.max_size_y||this.options.resize.max_size[1],this.resize_min_size_x=this.resize_wgd.min_size_x||this.options.resize.min_size[0]||1,this.resize_min_size_y=this.resize_wgd.min_size_y||this.options.resize.min_size[1]||1,this.resize_initial_last_col=this.get_highest_occupied_cell().col,this.set_dom_grid_width(this.cols),this.resize_dir={right:e.$player.is("."+this.resize_handle_class+"-x"),bottom:e.$player.is("."+this.resize_handle_class+"-y")},this.$resized_widget.css({"min-width":this.options.widget_base_dimensions[0],"min-height":this.options.widget_base_dimensions[1]});var s=this.$resized_widget.get(0).tagName;this.$resize_preview_holder=t("<"+s+" />",{"class":"preview-holder resize-preview-holder","data-row":this.$resized_widget.attr("data-row"),"data-col":this.$resized_widget.attr("data-col"),css:{width:this.resize_initial_width,height:this.resize_initial_height}}).appendTo(this.$el),this.$resized_widget.addClass("resizing"),this.options.resize.start&&this.options.resize.start.call(this,i,e,this.$resized_widget),this.$el.trigger("gridster:resizestart")},r.on_stop_resize=function(i,e){this.$resized_widget.removeClass("resizing").css({width:"",height:""}),delay(t.proxy(function(){this.$resize_preview_holder.remove().css({"min-width":"","min-height":""}),this.options.resize.stop&&this.options.resize.stop.call(this,i,e,this.$resized_widget),this.$el.trigger("gridster:resizestop")},this),300),this.set_dom_grid_width(),this.options.autogrow_cols&&this.drag_api.set_limits(this.cols*this.min_widget_width)},r.on_resize=function(t,i){var e,s=i.pointer.diff_left,r=i.pointer.diff_top,o=this.options.widget_base_dimensions[0],a=this.options.widget_base_dimensions[1],n=this.options.widget_margins[0],h=this.options.widget_margins[1],_=this.resize_max_size_x,d=this.resize_min_size_x,l=this.resize_max_size_y,c=this.resize_min_size_y,p=this.options.autogrow_cols,g=1/0,u=1/0,f=Math.ceil(s/(o+2*n)-.2),w=Math.ceil(r/(a+2*h)-.2),m=Math.max(1,this.resize_initial_sizex+f),y=Math.max(1,this.resize_initial_sizey+w),v=this.container_width/this.min_widget_width-this.resize_initial_col+1,z=v*this.min_widget_width-2*n;if(m=Math.max(Math.min(m,_),d),m=Math.min(v,m),e=_*o+2*(m-1)*n,g=Math.min(e,z),min_width=d*o+2*(m-1)*n,y=Math.max(Math.min(y,l),c),u=l*a+2*(y-1)*h,min_height=c*a+2*(y-1)*h,this.resize_dir.right?y=this.resize_initial_sizey:this.resize_dir.bottom&&(m=this.resize_initial_sizex),p){var x=this.resize_initial_col+m-1;p&&x>=this.resize_initial_last_col&&(this.set_dom_grid_width(Math.max(x+1,this.cols)),x>this.cols&&this.add_faux_cols(x-this.cols))}var $={};!this.resize_dir.bottom&&($.width=Math.max(Math.min(this.resize_initial_width+s,g),min_width)),!this.resize_dir.right&&($.height=Math.max(Math.min(this.resize_initial_height+r,u),min_height)),this.$resized_widget.css($),(m!==this.resize_last_sizex||y!==this.resize_last_sizey)&&(this.resize_widget(this.$resized_widget,m,y),this.set_dom_grid_width(this.cols),this.$resize_preview_holder.css({width:"",height:""}).attr({"data-row":this.$resized_widget.attr("data-row"),"data-sizex":m,"data-sizey":y})),this.options.resize.resize&&this.options.resize.resize.call(this,t,i,this.$resized_widget),this.$el.trigger("gridster:resize"),this.resize_last_sizex=m,this.resize_last_sizey=y},r.on_overlapped_column_change=function(i,e){if(!this.colliders_data.length)return this;var s,r=this.get_targeted_columns(this.colliders_data[0].el.data.col),o=this.last_cols.length,a=r.length;for(s=0;a>s;s++)-1===t.inArray(r[s],this.last_cols)&&(i||t.noop).call(this,r[s]);for(s=0;o>s;s++)-1===t.inArray(this.last_cols[s],r)&&(e||t.noop).call(this,this.last_cols[s]);return this.last_cols=r,this},r.on_overlapped_row_change=function(i,e){if(!this.colliders_data.length)return this;var s,r=this.get_targeted_rows(this.colliders_data[0].el.data.row),o=this.last_rows.length,a=r.length;for(s=0;a>s;s++)-1===t.inArray(r[s],this.last_rows)&&(i||t.noop).call(this,r[s]);for(s=0;o>s;s++)-1===t.inArray(this.last_rows[s],r)&&(e||t.noop).call(this,this.last_rows[s]);this.last_rows=r},r.set_player=function(t,i,e){var s=this;e||this.empty_cells_player_occupies();var r=e?{col:t}:s.colliders_data[0].el.data,o=r.col,a=i||r.row;this.player_grid_data={col:o,row:a,size_y:this.player_grid_data.size_y,size_x:this.player_grid_data.size_x},this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data);var n=this.get_widgets_overlapped(this.player_grid_data),h=this.widgets_constraints(n);if(this.manage_movements(h.can_go_up,o,a),this.manage_movements(h.can_not_go_up,o,a),!n.length){var _=this.can_go_player_up(this.player_grid_data);_!==!1&&(a=_),this.set_placeholder(o,a)}return{col:o,row:a}},r.widgets_constraints=function(i){var s,r=t([]),o=[],a=[];return i.each(t.proxy(function(i,e){var s=t(e),n=s.coords().grid;this.can_go_widget_up(n)?(r=r.add(s),o.push(n)):a.push(n)},this)),s=i.not(r),{can_go_up:e.sort_by_row_asc(o),can_not_go_up:e.sort_by_row_desc(a)}},r.manage_movements=function(i,e,s){return t.each(i,t.proxy(function(t,i){var r=i,o=r.el,a=this.can_go_widget_up(r);if(a)this.move_widget_to(o,a),this.set_placeholder(e,a+r.size_y);else{var n=this.can_go_player_up(this.player_grid_data);if(!n){var h=s+this.player_grid_data.size_y-r.row;this.move_widget_down(o,h),this.set_placeholder(e,s)}}},this)),this},r.is_player=function(t,i){if(i&&!this.gridmap[t])return!1;var e=i?this.gridmap[t][i]:t;return e&&(e.is(this.$player)||e.is(this.$helper))},r.is_player_in=function(i,e){var s=this.cells_occupied_by_player||{};return t.inArray(i,s.cols)>=0&&t.inArray(e,s.rows)>=0},r.is_placeholder_in=function(i,e){var s=this.cells_occupied_by_placeholder||{};return this.is_placeholder_in_col(i)&&t.inArray(e,s.rows)>=0},r.is_placeholder_in_col=function(i){var e=this.cells_occupied_by_placeholder||[];return t.inArray(i,e.cols)>=0},r.is_empty=function(t,i){return this.gridmap[t]!==void 0?this.gridmap[t][i]!==void 0&&this.gridmap[t][i]===!1?!0:!1:!0},r.is_occupied=function(t,i){return this.gridmap[t]?this.gridmap[t][i]?!0:!1:!1},r.is_widget=function(t,i){var e=this.gridmap[t];return e?(e=e[i],e?e:!1):!1},r.is_widget_under_player=function(t,i){return this.is_widget(t,i)?this.is_player_in(t,i):!1},r.get_widgets_under_player=function(i){i||(i=this.cells_occupied_by_player||{cols:[],rows:[]});var e=t([]);return t.each(i.cols,t.proxy(function(s,r){t.each(i.rows,t.proxy(function(t,i){this.is_widget(r,i)&&(e=e.add(this.gridmap[r][i]))},this))},this)),e},r.set_placeholder=function(i,e){var s=t.extend({},this.placeholder_grid_data),r=this.widgets_below({col:s.col,row:s.row,size_y:s.size_y,size_x:s.size_x}),o=i+s.size_x-1;o>this.cols&&(i-=o-i);var a=e>this.placeholder_grid_data.row,n=this.placeholder_grid_data.col!==i;this.placeholder_grid_data.col=i,this.placeholder_grid_data.row=e,this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data),this.$preview_holder.attr({"data-row":e,"data-col":i}),(a||n)&&r.each(t.proxy(function(e,r){this.move_widget_up(t(r),this.placeholder_grid_data.col-i+s.size_y)},this));var h=this.get_widgets_under_player(this.cells_occupied_by_placeholder);h.length&&h.each(t.proxy(function(i,r){var o=t(r);this.move_widget_down(o,e+s.size_y-o.data("coords").grid.row)},this))},r.can_go_player_up=function(t){var i=t.row+t.size_y-1,e=!0,s=[],r=1e4,o=this.get_widgets_under_player();return this.for_each_column_occupied(t,function(t){var a=this.gridmap[t],n=i+1;for(s[t]=[];--n>0&&(this.is_empty(t,n)||this.is_player(t,n)||this.is_widget(t,n)&&a[n].is(o));)s[t].push(n),r=r>n?n:r;return 0===s[t].length?(e=!1,!0):(s[t].sort(function(t,i){return t-i\n}),void 0)}),e?this.get_valid_rows(t,s,r):!1},r.can_go_widget_up=function(t){var i=t.row+t.size_y-1,e=!0,s=[],r=1e4;return this.for_each_column_occupied(t,function(o){var a=this.gridmap[o];s[o]=[];for(var n=i+1;--n>0&&(!this.is_widget(o,n)||this.is_player_in(o,n)||a[n].is(t.el));)this.is_player(o,n)||this.is_placeholder_in(o,n)||this.is_player_in(o,n)||s[o].push(n),r>n&&(r=n);return 0===s[o].length?(e=!1,!0):(s[o].sort(function(t,i){return t-i}),void 0)}),e?this.get_valid_rows(t,s,r):!1},r.get_valid_rows=function(i,e,s){for(var r=i.row,o=i.row+i.size_y-1,a=i.size_y,n=s-1,h=[];o>=++n;){var _=!0;if(t.each(e,function(i,e){t.isArray(e)&&-1===t.inArray(n,e)&&(_=!1)}),_===!0&&(h.push(n),h.length===a))break}var d=!1;return 1===a?h[0]!==r&&(d=h[0]||!1):h[0]!==r&&(d=this.get_consecutive_numbers_index(h,a)),d},r.get_consecutive_numbers_index=function(t,i){for(var e=t.length,s=[],r=!0,o=-1,a=0;e>a;a++){if(r||t[a]===o+1){if(s.push(a),s.length===i)break;r=!1}else s=[],r=!0;o=t[a]}return s.length>=i?t[s[0]]:!1},r.get_widgets_overlapped=function(){var i=t([]),e=[],s=this.cells_occupied_by_player.rows.slice(0);return s.reverse(),t.each(this.cells_occupied_by_player.cols,t.proxy(function(r,o){t.each(s,t.proxy(function(s,r){if(!this.gridmap[o])return!0;var a=this.gridmap[o][r];this.is_occupied(o,r)&&!this.is_player(a)&&-1===t.inArray(a,e)&&(i=i.add(a),e.push(a))},this))},this)),i},r.on_start_overlapping_column=function(t){this.set_player(t,!1)},r.on_start_overlapping_row=function(t){this.set_player(!1,t)},r.on_stop_overlapping_column=function(t){this.set_player(t,!1);var i=this;this.for_each_widget_below(t,this.cells_occupied_by_player.rows[0],function(){i.move_widget_up(this,i.player_grid_data.size_y)})},r.on_stop_overlapping_row=function(t){this.set_player(!1,t);for(var i=this,e=this.cells_occupied_by_player.cols,s=0,r=e.length;r>s;s++)this.for_each_widget_below(e[s],t,function(){i.move_widget_up(this,i.player_grid_data.size_y)})},r.move_widget_to=function(i,e){var s=this,r=i.coords().grid;e-r.row;var o=this.widgets_below(i),a=this.can_move_to(r,r.col,e,i);return a===!1?!1:(this.remove_from_gridmap(r),r.row=e,this.add_to_gridmap(r),i.attr("data-row",e),this.$changed=this.$changed.add(i),o.each(function(i,e){var r=t(e),o=r.coords().grid,a=s.can_go_widget_up(o);a&&a!==o.row&&s.move_widget_to(r,a)}),this)},r.move_widget_up=function(i,e){var s=i.coords().grid,r=s.row,o=[];return e||(e=1),this.can_go_up(i)?(this.for_each_column_occupied(s,function(s){if(-1===t.inArray(i,o)){var a=i.coords().grid,n=r-e;if(n=this.can_go_up_to_row(a,s,n),!n)return!0;var h=this.widgets_below(i);this.remove_from_gridmap(a),a.row=n,this.add_to_gridmap(a),i.attr("data-row",a.row),this.$changed=this.$changed.add(i),o.push(i),h.each(t.proxy(function(i,s){this.move_widget_up(t(s),e)},this))}}),void 0):!1},r.move_widget_down=function(i,e){var s,r,o,a;if(0>=e)return!1;if(s=i.coords().grid,r=s.row,o=[],a=e,!i)return!1;if(-1===t.inArray(i,o)){var n=i.coords().grid,h=r+e,_=this.widgets_below(i);this.remove_from_gridmap(n),_.each(t.proxy(function(i,e){var s=t(e),r=s.coords().grid,o=this.displacement_diff(r,n,a);o>0&&this.move_widget_down(s,o)},this)),n.row=h,this.update_widget_position(n,i),i.attr("data-row",n.row),this.$changed=this.$changed.add(i),o.push(i)}},r.can_go_up_to_row=function(i,e,s){var r,o=this.gridmap,a=!0,n=[],h=i.row;if(this.for_each_column_occupied(i,function(t){for(o[t],n[t]=[],r=h;r--&&this.is_empty(t,r)&&!this.is_placeholder_in(t,r);)n[t].push(r);return n[t].length?void 0:(a=!1,!0)}),!a)return!1;for(r=s,r=1;h>r;r++){for(var _=!0,d=0,l=n.length;l>d;d++)n[d]&&-1===t.inArray(r,n[d])&&(_=!1);if(_===!0){a=r;break}}return a},r.displacement_diff=function(t,i,e){var s=t.row,r=[],o=i.row+i.size_y;this.for_each_column_occupied(t,function(t){for(var i=0,e=o;s>e;e++)this.is_empty(t,e)&&(i+=1);r.push(i)});var a=Math.max.apply(Math,r);return e-=a,e>0?e:0},r.widgets_below=function(i){var s=t.isPlainObject(i)?i:i.coords().grid,r=this;this.gridmap;var o=s.row+s.size_y-1,a=t([]);return this.for_each_column_occupied(s,function(i){r.for_each_widget_below(i,o,function(){return r.is_player(this)||-1!==t.inArray(this,a)?void 0:(a=a.add(this),!0)})}),e.sort_by_row_asc(a)},r.set_cells_player_occupies=function(t,i){return this.remove_from_gridmap(this.placeholder_grid_data),this.placeholder_grid_data.col=t,this.placeholder_grid_data.row=i,this.add_to_gridmap(this.placeholder_grid_data,this.$player),this},r.empty_cells_player_occupies=function(){return this.remove_from_gridmap(this.placeholder_grid_data),this},r.can_go_up=function(t){var i=t.coords().grid,e=i.row,s=e-1;this.gridmap;var r=!0;return 1===e?!1:(this.for_each_column_occupied(i,function(t){return this.is_widget(t,s),this.is_occupied(t,s)||this.is_player(t,s)||this.is_placeholder_in(t,s)||this.is_player_in(t,s)?(r=!1,!0):void 0}),r)},r.can_move_to=function(t,i,e,s){this.gridmap;var r=t.el,o={size_y:t.size_y,size_x:t.size_x,col:i,row:e},a=!0,n=i+t.size_x-1;return n>this.cols?!1:s&&e+t.size_y-1>s?!1:(this.for_each_cell_occupied(o,function(i,e){var s=this.is_widget(i,e);!s||t.el&&!s.is(r)||(a=!1)}),a)},r.get_targeted_columns=function(t){for(var i=(t||this.player_grid_data.col)+(this.player_grid_data.size_x-1),e=[],s=t;i>=s;s++)e.push(s);return e},r.get_targeted_rows=function(t){for(var i=(t||this.player_grid_data.row)+(this.player_grid_data.size_y-1),e=[],s=t;i>=s;s++)e.push(s);return e},r.get_cells_occupied=function(i){var e,s={cols:[],rows:[]};for(arguments[1]instanceof t&&(i=arguments[1].coords().grid),e=0;i.size_x>e;e++){var r=i.col+e;s.cols.push(r)}for(e=0;i.size_y>e;e++){var o=i.row+e;s.rows.push(o)}return s},r.for_each_cell_occupied=function(t,i){return this.for_each_column_occupied(t,function(e){this.for_each_row_occupied(t,function(t){i.call(this,e,t)})}),this},r.for_each_column_occupied=function(t,i){for(var e=0;t.size_x>e;e++){var s=t.col+e;i.call(this,s,t)}},r.for_each_row_occupied=function(t,i){for(var e=0;t.size_y>e;e++){var s=t.row+e;i.call(this,s,t)}},r._traversing_widgets=function(i,e,s,r,o){var a=this.gridmap;if(a[s]){var n,h,_=i+"/"+e;if(arguments[2]instanceof t){var d=arguments[2].coords().grid;s=d.col,r=d.row,o=arguments[3]}var l=[],c=r,p={"for_each/above":function(){for(;c--&&!(c>0&&this.is_widget(s,c)&&-1===t.inArray(a[s][c],l)&&(n=o.call(a[s][c],s,c),l.push(a[s][c]),n)););},"for_each/below":function(){for(c=r+1,h=a[s].length;h>c&&(!this.is_widget(s,c)||-1!==t.inArray(a[s][c],l)||(n=o.call(a[s][c],s,c),l.push(a[s][c]),!n));c++);}};p[_]&&p[_].call(this)}},r.for_each_widget_above=function(t,i,e){return this._traversing_widgets("for_each","above",t,i,e),this},r.for_each_widget_below=function(t,i,e){return this._traversing_widgets("for_each","below",t,i,e),this},r.get_highest_occupied_cell=function(){for(var t,i=this.gridmap,e=i[1].length,s=[],r=[],o=i.length-1;o>=1;o--)for(t=e-1;t>=1;t--)if(this.is_widget(o,t)){s.push(t),r.push(o);break}return{col:Math.max.apply(Math,r),row:Math.max.apply(Math,s)}},r.get_widgets_from=function(i,e){this.gridmap;var s=t();return i&&(s=s.add(this.$widgets.filter(function(){var e=t(this).attr("data-col");return e===i||e>i}))),e&&(s=s.add(this.$widgets.filter(function(){var i=t(this).attr("data-row");return i===e||i>e}))),s},r.set_dom_grid_height=function(t){if(t===void 0){var i=this.get_highest_occupied_cell().row;t=i*this.min_widget_height}return this.container_height=t,this.$el.css("height",this.container_height),this},r.set_dom_grid_width=function(t){t===void 0&&(t=this.get_highest_occupied_cell().col);var i=this.options.autogrow_cols?this.options.max_cols:this.cols;return t=Math.min(i,Math.max(t,this.options.min_cols)),this.container_width=t*this.min_widget_width,this.$el.css("width",this.container_width),this},r.generate_stylesheet=function(i){var s,r="",o=this.options.max_size_x||this.cols;i||(i={}),i.cols||(i.cols=this.cols),i.rows||(i.rows=this.rows),i.namespace||(i.namespace=this.options.namespace),i.widget_base_dimensions||(i.widget_base_dimensions=this.options.widget_base_dimensions),i.widget_margins||(i.widget_margins=this.options.widget_margins),i.min_widget_width=2*i.widget_margins[0]+i.widget_base_dimensions[0],i.min_widget_height=2*i.widget_margins[1]+i.widget_base_dimensions[1];var a=t.param(i);if(t.inArray(a,e.generated_stylesheets)>=0)return!1;for(this.generated_stylesheets.push(a),e.generated_stylesheets.push(a),s=i.cols;s>=0;s--)r+=i.namespace+\' [data-col="\'+(s+1)+\'"] { left:\'+(s*i.widget_base_dimensions[0]+s*i.widget_margins[0]+(s+1)*i.widget_margins[0])+"px; }\\n";for(s=i.rows;s>=0;s--)r+=i.namespace+\' [data-row="\'+(s+1)+\'"] { top:\'+(s*i.widget_base_dimensions[1]+s*i.widget_margins[1]+(s+1)*i.widget_margins[1])+"px; }\\n";for(var n=1;i.rows>=n;n++)r+=i.namespace+\' [data-sizey="\'+n+\'"] { height:\'+(n*i.widget_base_dimensions[1]+(n-1)*2*i.widget_margins[1])+"px; }\\n";for(var h=1;o>=h;h++)r+=i.namespace+\' [data-sizex="\'+h+\'"] { width:\'+(h*i.widget_base_dimensions[0]+(h-1)*2*i.widget_margins[0])+"px; }\\n";return this.remove_style_tags(),this.add_style_tag(r)},r.add_style_tag=function(t){var i=document,e=i.createElement("style");return i.getElementsByTagName("head")[0].appendChild(e),e.setAttribute("type","text/css"),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),this.$style_tags=this.$style_tags.add(e),this},r.remove_style_tags=function(){var i=e.generated_stylesheets,s=this.generated_stylesheets;this.$style_tags.remove(),e.generated_stylesheets=t.map(i,function(i){return-1===t.inArray(i,s)?i:void 0})},r.generate_faux_grid=function(t,i){this.faux_grid=[],this.gridmap=[];var e,s;for(e=i;e>0;e--)for(this.gridmap[e]=[],s=t;s>0;s--)this.add_faux_cell(s,e);return this},r.add_faux_cell=function(i,e){var s=t({left:this.baseX+(e-1)*this.min_widget_width,top:this.baseY+(i-1)*this.min_widget_height,width:this.min_widget_width,height:this.min_widget_height,col:e,row:i,original_col:e,original_row:i}).coords();return t.isArray(this.gridmap[e])||(this.gridmap[e]=[]),this.gridmap[e][i]=!1,this.faux_grid.push(s),this},r.add_faux_rows=function(t){for(var i=this.rows,e=i+(t||1),s=e;s>i;s--)for(var r=this.cols;r>=1;r--)this.add_faux_cell(s,r);return this.rows=e,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},r.add_faux_cols=function(t){var i=this.cols,e=i+(t||1);e=Math.min(e,this.options.max_cols);for(var s=i+1;e>=s;s++)for(var r=this.rows;r>=1;r--)this.add_faux_cell(r,s);return this.cols=e,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},r.recalculate_faux_grid=function(){var i=this.$wrapper.width();return this.baseX=(t(window).width()-i)/2,this.baseY=this.$wrapper.offset().top,t.each(this.faux_grid,t.proxy(function(t,i){this.faux_grid[t]=i.update({left:this.baseX+(i.data.col-1)*this.min_widget_width,top:this.baseY+(i.data.row-1)*this.min_widget_height})},this)),this},r.get_widgets_from_DOM=function(){var i=this.$widgets.map(t.proxy(function(i,e){var s=t(e);return this.dom_to_coords(s)},this));i=e.sort_by_row_and_col_asc(i);var s=t(i).map(t.proxy(function(t,i){return this.register_widget(i)||null},this));return s.length&&this.$el.trigger("gridster:positionschanged"),this},r.generate_grid_and_stylesheet=function(){var i=this.$wrapper.width(),e=this.options.max_cols,s=Math.floor(i/this.min_widget_width)+this.options.extra_cols,r=this.$widgets.map(function(){return t(this).attr("data-col")}).get();r.length||(r=[0]);var o=Math.max.apply(Math,r);this.cols=Math.max(o,s,this.options.min_cols),1/0!==e&&e>=o&&this.cols>e&&(this.cols=e);var a=this.options.extra_rows;return this.$widgets.each(function(i,e){a+=+t(e).attr("data-sizey")}),this.rows=Math.max(a,this.options.min_rows),this.baseX=(t(window).width()-i)/2,this.baseY=this.$wrapper.offset().top,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this.generate_faux_grid(this.rows,this.cols)},r.destroy=function(i){return this.$el.removeData("gridster"),t(window).unbind(".gridster"),this.drag_api&&this.drag_api.destroy(),this.remove_style_tags(),i&&this.$el.remove(),this},t.fn.gridster=function(i){return this.each(function(){t(this).data("gridster")||t(this).data("gridster",new e(this,i))})},e});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "802c")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2MzNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmlkc3Rlci9kaXN0L2pxdWVyeS5ncmlkc3Rlci5taW4uanM/NDM3NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgZ3JpZHN0ZXIuanMgLSB2MC41LjYgLSAyMDE0LTA5LTI1IC0gKiBodHRwOi8vZ3JpZHN0ZXIubmV0LyAtIENvcHlyaWdodCAoYykgMjAxNCBkdWNrc2JvYXJkOyBMaWNlbnNlZCBNSVQgKi8gKGZ1bmN0aW9uKHQsaSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImdyaWRzdGVyLWNvb3Jkc1wiLFtcImpxdWVyeVwiXSxpKTp0LkdyaWRzdGVyQ29vcmRzPWkodC4kfHx0LmpRdWVyeSl9KSh0aGlzLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkoaSl7cmV0dXJuIGlbMF0mJnQuaXNQbGFpbk9iamVjdChpWzBdKT90aGlzLmRhdGE9aVswXTp0aGlzLmVsPWksdGhpcy5pc0Nvb3Jkcz0hMCx0aGlzLmNvb3Jkcz17fSx0aGlzLmluaXQoKSx0aGlzfXZhciBlPWkucHJvdG90eXBlO3JldHVybiBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnNldCgpLHRoaXMub3JpZ2luYWxfY29vcmRzPXRoaXMuZ2V0KCl9LGUuc2V0PWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcy5lbDtpZihlJiYhdCYmKHRoaXMuZGF0YT1lLm9mZnNldCgpLHRoaXMuZGF0YS53aWR0aD1lLndpZHRoKCksdGhpcy5kYXRhLmhlaWdodD1lLmhlaWdodCgpKSxlJiZ0JiYhaSl7dmFyIHM9ZS5vZmZzZXQoKTt0aGlzLmRhdGEudG9wPXMudG9wLHRoaXMuZGF0YS5sZWZ0PXMubGVmdH12YXIgcj10aGlzLmRhdGE7cmV0dXJuIHIubGVmdD09PXZvaWQgMCYmKHIubGVmdD1yLngxKSxyLnRvcD09PXZvaWQgMCYmKHIudG9wPXIueTEpLHRoaXMuY29vcmRzLngxPXIubGVmdCx0aGlzLmNvb3Jkcy55MT1yLnRvcCx0aGlzLmNvb3Jkcy54Mj1yLmxlZnQrci53aWR0aCx0aGlzLmNvb3Jkcy55Mj1yLnRvcCtyLmhlaWdodCx0aGlzLmNvb3Jkcy5jeD1yLmxlZnQrci53aWR0aC8yLHRoaXMuY29vcmRzLmN5PXIudG9wK3IuaGVpZ2h0LzIsdGhpcy5jb29yZHMud2lkdGg9ci53aWR0aCx0aGlzLmNvb3Jkcy5oZWlnaHQ9ci5oZWlnaHQsdGhpcy5jb29yZHMuZWw9ZXx8ITEsdGhpc30sZS51cGRhdGU9ZnVuY3Rpb24oaSl7aWYoIWkmJiF0aGlzLmVsKXJldHVybiB0aGlzO2lmKGkpe3ZhciBlPXQuZXh0ZW5kKHt9LHRoaXMuZGF0YSxpKTtyZXR1cm4gdGhpcy5kYXRhPWUsdGhpcy5zZXQoITAsITApfXJldHVybiB0aGlzLnNldCghMCksdGhpc30sZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZHN9LGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZWwucmVtb3ZlRGF0YShcImNvb3Jkc1wiKSxkZWxldGUgdGhpcy5lbH0sdC5mbi5jb29yZHM9ZnVuY3Rpb24oKXtpZih0aGlzLmRhdGEoXCJjb29yZHNcIikpcmV0dXJuIHRoaXMuZGF0YShcImNvb3Jkc1wiKTt2YXIgdD1uZXcgaSh0aGlzLGFyZ3VtZW50c1swXSk7cmV0dXJuIHRoaXMuZGF0YShcImNvb3Jkc1wiLHQpLHR9LGl9KSxmdW5jdGlvbih0LGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJncmlkc3Rlci1jb2xsaXNpb25cIixbXCJqcXVlcnlcIixcImdyaWRzdGVyLWNvb3Jkc1wiXSxpKTp0LkdyaWRzdGVyQ29sbGlzaW9uPWkodC4kfHx0LmpRdWVyeSx0LkdyaWRzdGVyQ29vcmRzKX0odGhpcyxmdW5jdGlvbih0KXtmdW5jdGlvbiBpKGkscyxyKXt0aGlzLm9wdGlvbnM9dC5leHRlbmQoZSxyKSx0aGlzLiRlbGVtZW50PWksdGhpcy5sYXN0X2NvbGxpZGVycz1bXSx0aGlzLmxhc3RfY29sbGlkZXJzX2Nvb3Jkcz1bXSx0aGlzLnNldF9jb2xsaWRlcnMocyksdGhpcy5pbml0KCl9dmFyIGU9e2NvbGxpZGVyc19jb250ZXh0OmRvY3VtZW50LmJvZHksb3ZlcmxhcHBpbmdfcmVnaW9uOlwiQ1wifTtpLmRlZmF1bHRzPWU7dmFyIHM9aS5wcm90b3R5cGU7cmV0dXJuIHMuaW5pdD1mdW5jdGlvbigpe3RoaXMuZmluZF9jb2xsaXNpb25zKCl9LHMub3ZlcmxhcHM9ZnVuY3Rpb24odCxpKXt2YXIgZT0hMSxzPSExO3JldHVybihpLngxPj10LngxJiZpLngxPD10LngyfHxpLngyPj10LngxJiZpLngyPD10LngyfHx0LngxPj1pLngxJiZ0LngyPD1pLngyKSYmKGU9ITApLChpLnkxPj10LnkxJiZpLnkxPD10LnkyfHxpLnkyPj10LnkxJiZpLnkyPD10LnkyfHx0LnkxPj1pLnkxJiZ0LnkyPD1pLnkyKSYmKHM9ITApLGUmJnN9LHMuZGV0ZWN0X292ZXJsYXBwaW5nX3JlZ2lvbj1mdW5jdGlvbih0LGkpe3ZhciBlPVwiXCIscz1cIlwiO3JldHVybiB0LnkxPmkuY3kmJnQueTE8aS55MiYmKGU9XCJOXCIpLHQueTI+aS55MSYmdC55MjxpLmN5JiYoZT1cIlNcIiksdC54MT5pLmN4JiZ0LngxPGkueDImJihzPVwiV1wiKSx0LngyPmkueDEmJnQueDI8aS5jeCYmKHM9XCJFXCIpLGUrc3x8XCJDXCJ9LHMuY2FsY3VsYXRlX292ZXJsYXBwZWRfYXJlYV9jb29yZHM9ZnVuY3Rpb24oaSxlKXt2YXIgcz1NYXRoLm1heChpLngxLGUueDEpLHI9TWF0aC5tYXgoaS55MSxlLnkxKSxvPU1hdGgubWluKGkueDIsZS54MiksYT1NYXRoLm1pbihpLnkyLGUueTIpO3JldHVybiB0KHtsZWZ0OnMsdG9wOnIsd2lkdGg6by1zLGhlaWdodDphLXJ9KS5jb29yZHMoKS5nZXQoKX0scy5jYWxjdWxhdGVfb3ZlcmxhcHBlZF9hcmVhPWZ1bmN0aW9uKHQpe3JldHVybiB0LndpZHRoKnQuaGVpZ2h0fSxzLm1hbmFnZV9jb2xsaWRlcnNfc3RhcnRfc3RvcD1mdW5jdGlvbihpLGUscyl7Zm9yKHZhciByPXRoaXMubGFzdF9jb2xsaWRlcnNfY29vcmRzLG89MCxhPXIubGVuZ3RoO2E+bztvKyspLTE9PT10LmluQXJyYXkocltvXSxpKSYmZS5jYWxsKHRoaXMscltvXSk7Zm9yKHZhciBuPTAsaD1pLmxlbmd0aDtoPm47bisrKS0xPT09dC5pbkFycmF5KGlbbl0scikmJnMuY2FsbCh0aGlzLGlbbl0pfSxzLmZpbmRfY29sbGlzaW9ucz1mdW5jdGlvbihpKXtmb3IodmFyIGU9dGhpcyxzPXRoaXMub3B0aW9ucy5vdmVybGFwcGluZ19yZWdpb24scj1bXSxvPVtdLGE9dGhpcy5jb2xsaWRlcnN8fHRoaXMuJGNvbGxpZGVycyxuPWEubGVuZ3RoLGg9ZS4kZWxlbWVudC5jb29yZHMoKS51cGRhdGUoaXx8ITEpLmdldCgpO24tLTspe3ZhciBfPWUuJGNvbGxpZGVycz90KGFbbl0pOmFbbl0sZD1fLmlzQ29vcmRzP186Xy5jb29yZHMoKSxsPWQuZ2V0KCksYz1lLm92ZXJsYXBzKGgsbCk7aWYoYyl7dmFyIHA9ZS5kZXRlY3Rfb3ZlcmxhcHBpbmdfcmVnaW9uKGgsbCk7aWYocD09PXN8fFwiYWxsXCI9PT1zKXt2YXIgZz1lLmNhbGN1bGF0ZV9vdmVybGFwcGVkX2FyZWFfY29vcmRzKGgsbCksdT1lLmNhbGN1bGF0ZV9vdmVybGFwcGVkX2FyZWEoZyksZj17YXJlYTp1LGFyZWFfY29vcmRzOmcscmVnaW9uOnAsY29vcmRzOmwscGxheWVyX2Nvb3JkczpoLGVsOl99O2Uub3B0aW9ucy5vbl9vdmVybGFwJiZlLm9wdGlvbnMub25fb3ZlcmxhcC5jYWxsKHRoaXMsZiksci5wdXNoKGQpLG8ucHVzaChmKX19fXJldHVybihlLm9wdGlvbnMub25fb3ZlcmxhcF9zdG9wfHxlLm9wdGlvbnMub25fb3ZlcmxhcF9zdGFydCkmJnRoaXMubWFuYWdlX2NvbGxpZGVyc19zdGFydF9zdG9wKHIsZS5vcHRpb25zLm9uX292ZXJsYXBfc3RhcnQsZS5vcHRpb25zLm9uX292ZXJsYXBfc3RvcCksdGhpcy5sYXN0X2NvbGxpZGVyc19jb29yZHM9cixvfSxzLmdldF9jbG9zZXN0X2NvbGxpZGVycz1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmZpbmRfY29sbGlzaW9ucyh0KTtyZXR1cm4gaS5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuXCJDXCI9PT10LnJlZ2lvbiYmXCJDXCI9PT1pLnJlZ2lvbj90LmNvb3Jkcy55MTxpLmNvb3Jkcy55MXx8dC5jb29yZHMueDE8aS5jb29yZHMueDE/LTE6MTp0LmFyZWE8aS5hcmVhPzE6MX0pLGl9LHMuc2V0X2NvbGxpZGVycz1mdW5jdGlvbihpKXtcInN0cmluZ1wiPT10eXBlb2YgaXx8aSBpbnN0YW5jZW9mIHQ/dGhpcy4kY29sbGlkZXJzPXQoaSx0aGlzLm9wdGlvbnMuY29sbGlkZXJzX2NvbnRleHQpLm5vdCh0aGlzLiRlbGVtZW50KTp0aGlzLmNvbGxpZGVycz10KGkpfSx0LmZuLmNvbGxpc2lvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgaSh0aGlzLHQsZSl9LGl9KSxmdW5jdGlvbih0KXt0LmRlbGF5PWZ1bmN0aW9uKHQsaSl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkobnVsbCxlKX0saSl9LHQuZGVib3VuY2U9ZnVuY3Rpb24odCxpLGUpe3ZhciBzO3JldHVybiBmdW5jdGlvbigpe3ZhciByPXRoaXMsbz1hcmd1bWVudHMsYT1mdW5jdGlvbigpe3M9bnVsbCxlfHx0LmFwcGx5KHIsbyl9O2UmJiFzJiZ0LmFwcGx5KHIsbyksY2xlYXJUaW1lb3V0KHMpLHM9c2V0VGltZW91dChhLGkpfX0sdC50aHJvdHRsZT1mdW5jdGlvbih0LGkpe3ZhciBlLHMscixvLGEsbixoPWRlYm91bmNlKGZ1bmN0aW9uKCl7YT1vPSExfSxpKTtyZXR1cm4gZnVuY3Rpb24oKXtlPXRoaXMscz1hcmd1bWVudHM7dmFyIF89ZnVuY3Rpb24oKXtyPW51bGwsYSYmdC5hcHBseShlLHMpLGgoKX07cmV0dXJuIHJ8fChyPXNldFRpbWVvdXQoXyxpKSksbz9hPSEwOm49dC5hcHBseShlLHMpLGgoKSxvPSEwLG59fX0od2luZG93KSxmdW5jdGlvbih0LGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJncmlkc3Rlci1kcmFnZ2FibGVcIixbXCJqcXVlcnlcIl0saSk6dC5Hcmlkc3RlckRyYWdnYWJsZT1pKHQuJHx8dC5qUXVlcnkpfSh0aGlzLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkoaSxzKXt0aGlzLm9wdGlvbnM9dC5leHRlbmQoe30sZSxzKSx0aGlzLiRkb2N1bWVudD10KGRvY3VtZW50KSx0aGlzLiRjb250YWluZXI9dChpKSx0aGlzLiRkcmFnaXRlbXM9dCh0aGlzLm9wdGlvbnMuaXRlbXMsdGhpcy4kY29udGFpbmVyKSx0aGlzLmlzX2RyYWdnaW5nPSExLHRoaXMucGxheWVyX21pbl9sZWZ0PTArdGhpcy5vcHRpb25zLm9mZnNldF9sZWZ0LHRoaXMuaWQ9aCgpLHRoaXMubnM9XCIuZ3JpZHN0ZXItZHJhZ2dhYmxlLVwiK3RoaXMuaWQsdGhpcy5pbml0KCl9dmFyIGU9e2l0ZW1zOlwibGlcIixkaXN0YW5jZToxLGxpbWl0OiEwLG9mZnNldF9sZWZ0OjAsYXV0b3Njcm9sbDohMCxpZ25vcmVfZHJhZ2dpbmc6W1wiSU5QVVRcIixcIlRFWFRBUkVBXCIsXCJTRUxFQ1RcIixcIkJVVFRPTlwiXSxoYW5kbGU6bnVsbCxjb250YWluZXJfd2lkdGg6MCxtb3ZlX2VsZW1lbnQ6ITAsaGVscGVyOiExLHJlbW92ZV9oZWxwZXI6ITB9LHM9dCh3aW5kb3cpLHI9e3g6XCJsZWZ0XCIseTpcInRvcFwifSxvPSEhKFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3cpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKX0sbj0wLGg9ZnVuY3Rpb24oKXtyZXR1cm4rK24rXCJcIn07aS5kZWZhdWx0cz1lO3ZhciBfPWkucHJvdG90eXBlO3JldHVybiBfLmluaXQ9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLiRjb250YWluZXIuY3NzKFwicG9zaXRpb25cIik7dGhpcy5jYWxjdWxhdGVfZGltZW5zaW9ucygpLHRoaXMuJGNvbnRhaW5lci5jc3MoXCJwb3NpdGlvblwiLFwic3RhdGljXCI9PT1pP1wicmVsYXRpdmVcIjppKSx0aGlzLmRpc2FibGVkPSExLHRoaXMuZXZlbnRzKCksdCh3aW5kb3cpLmJpbmQodGhpcy5uc0V2ZW50KFwicmVzaXplXCIpLHRocm90dGxlKHQucHJveHkodGhpcy5jYWxjdWxhdGVfZGltZW5zaW9ucyx0aGlzKSwyMDApKX0sXy5uc0V2ZW50PWZ1bmN0aW9uKHQpe3JldHVybih0fHxcIlwiKSt0aGlzLm5zfSxfLmV2ZW50cz1mdW5jdGlvbigpe3RoaXMucG9pbnRlcl9ldmVudHM9e3N0YXJ0OnRoaXMubnNFdmVudChcInRvdWNoc3RhcnRcIikrXCIgXCIrdGhpcy5uc0V2ZW50KFwibW91c2Vkb3duXCIpLG1vdmU6dGhpcy5uc0V2ZW50KFwidG91Y2htb3ZlXCIpK1wiIFwiK3RoaXMubnNFdmVudChcIm1vdXNlbW92ZVwiKSxlbmQ6dGhpcy5uc0V2ZW50KFwidG91Y2hlbmRcIikrXCIgXCIrdGhpcy5uc0V2ZW50KFwibW91c2V1cFwiKX0sdGhpcy4kY29udGFpbmVyLm9uKHRoaXMubnNFdmVudChcInNlbGVjdHN0YXJ0XCIpLHQucHJveHkodGhpcy5vbl9zZWxlY3Rfc3RhcnQsdGhpcykpLHRoaXMuJGNvbnRhaW5lci5vbih0aGlzLnBvaW50ZXJfZXZlbnRzLnN0YXJ0LHRoaXMub3B0aW9ucy5pdGVtcyx0LnByb3h5KHRoaXMuZHJhZ19oYW5kbGVyLHRoaXMpKSx0aGlzLiRkb2N1bWVudC5vbih0aGlzLnBvaW50ZXJfZXZlbnRzLmVuZCx0LnByb3h5KGZ1bmN0aW9uKHQpe3RoaXMuaXNfZHJhZ2dpbmc9ITEsdGhpcy5kaXNhYmxlZHx8KHRoaXMuJGRvY3VtZW50Lm9mZih0aGlzLnBvaW50ZXJfZXZlbnRzLm1vdmUpLHRoaXMuZHJhZ19zdGFydCYmdGhpcy5vbl9kcmFnc3RvcCh0KSl9LHRoaXMpKX0sXy5nZXRfYWN0dWFsX3Bvcz1mdW5jdGlvbih0KXt2YXIgaT10LnBvc2l0aW9uKCk7cmV0dXJuIGl9LF8uZ2V0X21vdXNlX3Bvcz1mdW5jdGlvbih0KXtpZih0Lm9yaWdpbmFsRXZlbnQmJnQub3JpZ2luYWxFdmVudC50b3VjaGVzKXt2YXIgaT10Lm9yaWdpbmFsRXZlbnQ7dD1pLnRvdWNoZXMubGVuZ3RoP2kudG91Y2hlc1swXTppLmNoYW5nZWRUb3VjaGVzWzBdfXJldHVybntsZWZ0OnQuY2xpZW50WCx0b3A6dC5jbGllbnRZfX0sXy5nZXRfb2Zmc2V0PWZ1bmN0aW9uKGkpe2kucHJldmVudERlZmF1bHQoKTt2YXIgZT10aGlzLmdldF9tb3VzZV9wb3MoaSkscz1NYXRoLnJvdW5kKGUubGVmdC10aGlzLm1vdXNlX2luaXRfcG9zLmxlZnQpLHI9TWF0aC5yb3VuZChlLnRvcC10aGlzLm1vdXNlX2luaXRfcG9zLnRvcCksbz1NYXRoLnJvdW5kKHRoaXMuZWxfaW5pdF9vZmZzZXQubGVmdCtzLXRoaXMuYmFzZVgrdCh3aW5kb3cpLnNjcm9sbExlZnQoKS10aGlzLndpbl9vZmZzZXRfeCksYT1NYXRoLnJvdW5kKHRoaXMuZWxfaW5pdF9vZmZzZXQudG9wK3ItdGhpcy5iYXNlWSt0KHdpbmRvdykuc2Nyb2xsVG9wKCktdGhpcy53aW5fb2Zmc2V0X3kpO3JldHVybiB0aGlzLm9wdGlvbnMubGltaXQmJihvPnRoaXMucGxheWVyX21heF9sZWZ0P289dGhpcy5wbGF5ZXJfbWF4X2xlZnQ6dGhpcy5wbGF5ZXJfbWluX2xlZnQ+byYmKG89dGhpcy5wbGF5ZXJfbWluX2xlZnQpKSx7cG9zaXRpb246e2xlZnQ6byx0b3A6YX0scG9pbnRlcjp7bGVmdDplLmxlZnQsdG9wOmUudG9wLGRpZmZfbGVmdDpzKyh0KHdpbmRvdykuc2Nyb2xsTGVmdCgpLXRoaXMud2luX29mZnNldF94KSxkaWZmX3RvcDpyKyh0KHdpbmRvdykuc2Nyb2xsVG9wKCktdGhpcy53aW5fb2Zmc2V0X3kpfX19LF8uZ2V0X2RyYWdfZGF0YT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldF9vZmZzZXQodCk7cmV0dXJuIGkuJHBsYXllcj10aGlzLiRwbGF5ZXIsaS4kaGVscGVyPXRoaXMuaGVscGVyP3RoaXMuJGhlbHBlcjp0aGlzLiRwbGF5ZXIsaX0sXy5zZXRfbGltaXRzPWZ1bmN0aW9uKHQpe3JldHVybiB0fHwodD10aGlzLiRjb250YWluZXIud2lkdGgoKSksdGhpcy5wbGF5ZXJfbWF4X2xlZnQ9dC10aGlzLnBsYXllcl93aWR0aCstdGhpcy5vcHRpb25zLm9mZnNldF9sZWZ0LHRoaXMub3B0aW9ucy5jb250YWluZXJfd2lkdGg9dCx0aGlzfSxfLnNjcm9sbF9pbj1mdW5jdGlvbihpLGUpe3ZhciBvLG49cltpXSxoPTUwLF89MzAsZD1cInhcIj09PWksbD1kP3RoaXMud2luZG93X3dpZHRoOnRoaXMud2luZG93X2hlaWdodCxjPWQ/dChkb2N1bWVudCkud2lkdGgoKTp0KGRvY3VtZW50KS5oZWlnaHQoKSxwPWQ/dGhpcy4kcGxheWVyLndpZHRoKCk6dGhpcy4kcGxheWVyLmhlaWdodCgpLGc9c1tcInNjcm9sbFwiK2EobildKCksdT1nLGY9dStsLHc9Zi1oLG09dStoLHk9dStlLnBvaW50ZXJbbl0sdj1jLWwrcDtyZXR1cm4geT49dyYmKG89ZytfLHY+byYmKHNbXCJzY3JvbGxcIithKG4pXShvKSx0aGlzW1wic2Nyb2xsX29mZnNldF9cIitpXSs9XykpLG0+PXkmJihvPWctXyxvPjAmJihzW1wic2Nyb2xsXCIrYShuKV0obyksdGhpc1tcInNjcm9sbF9vZmZzZXRfXCIraV0tPV8pKSx0aGlzfSxfLm1hbmFnZV9zY3JvbGw9ZnVuY3Rpb24odCl7dGhpcy5zY3JvbGxfaW4oXCJ4XCIsdCksdGhpcy5zY3JvbGxfaW4oXCJ5XCIsdCl9LF8uY2FsY3VsYXRlX2RpbWVuc2lvbnM9ZnVuY3Rpb24oKXt0aGlzLndpbmRvd19oZWlnaHQ9cy5oZWlnaHQoKSx0aGlzLndpbmRvd193aWR0aD1zLndpZHRoKCl9LF8uZHJhZ19oYW5kbGVyPWZ1bmN0aW9uKGkpe2lmKGkudGFyZ2V0Lm5vZGVOYW1lLCF0aGlzLmRpc2FibGVkJiYoMT09PWkud2hpY2h8fG8pJiYhdGhpcy5pZ25vcmVfZHJhZyhpKSl7dmFyIGU9dGhpcyxzPSEwO3JldHVybiB0aGlzLiRwbGF5ZXI9dChpLmN1cnJlbnRUYXJnZXQpLHRoaXMuZWxfaW5pdF9wb3M9dGhpcy5nZXRfYWN0dWFsX3Bvcyh0aGlzLiRwbGF5ZXIpLHRoaXMubW91c2VfaW5pdF9wb3M9dGhpcy5nZXRfbW91c2VfcG9zKGkpLHRoaXMub2Zmc2V0WT10aGlzLm1vdXNlX2luaXRfcG9zLnRvcC10aGlzLmVsX2luaXRfcG9zLnRvcCx0aGlzLiRkb2N1bWVudC5vbih0aGlzLnBvaW50ZXJfZXZlbnRzLm1vdmUsZnVuY3Rpb24odCl7dmFyIGk9ZS5nZXRfbW91c2VfcG9zKHQpLHI9TWF0aC5hYnMoaS5sZWZ0LWUubW91c2VfaW5pdF9wb3MubGVmdCksbz1NYXRoLmFicyhpLnRvcC1lLm1vdXNlX2luaXRfcG9zLnRvcCk7cmV0dXJuIHI+ZS5vcHRpb25zLmRpc3RhbmNlfHxvPmUub3B0aW9ucy5kaXN0YW5jZT9zPyhzPSExLGUub25fZHJhZ3N0YXJ0LmNhbGwoZSx0KSwhMSk6KGUuaXNfZHJhZ2dpbmc9PT0hMCYmZS5vbl9kcmFnbW92ZS5jYWxsKGUsdCksITEpOiExfSksbz92b2lkIDA6ITF9fSxfLm9uX2RyYWdzdGFydD1mdW5jdGlvbihpKXtpZihpLnByZXZlbnREZWZhdWx0KCksdGhpcy5pc19kcmFnZ2luZylyZXR1cm4gdGhpczt0aGlzLmRyYWdfc3RhcnQ9dGhpcy5pc19kcmFnZ2luZz0hMDt2YXIgZT10aGlzLiRjb250YWluZXIub2Zmc2V0KCk7cmV0dXJuIHRoaXMuYmFzZVg9TWF0aC5yb3VuZChlLmxlZnQpLHRoaXMuYmFzZVk9TWF0aC5yb3VuZChlLnRvcCksdGhpcy5pbml0aWFsX2NvbnRhaW5lcl93aWR0aD10aGlzLm9wdGlvbnMuY29udGFpbmVyX3dpZHRofHx0aGlzLiRjb250YWluZXIud2lkdGgoKSxcImNsb25lXCI9PT10aGlzLm9wdGlvbnMuaGVscGVyPyh0aGlzLiRoZWxwZXI9dGhpcy4kcGxheWVyLmNsb25lKCkuYXBwZW5kVG8odGhpcy4kY29udGFpbmVyKS5hZGRDbGFzcyhcImhlbHBlclwiKSx0aGlzLmhlbHBlcj0hMCk6dGhpcy5oZWxwZXI9ITEsdGhpcy53aW5fb2Zmc2V0X3k9dCh3aW5kb3cpLnNjcm9sbFRvcCgpLHRoaXMud2luX29mZnNldF94PXQod2luZG93KS5zY3JvbGxMZWZ0KCksdGhpcy5zY3JvbGxfb2Zmc2V0X3k9MCx0aGlzLnNjcm9sbF9vZmZzZXRfeD0wLHRoaXMuZWxfaW5pdF9vZmZzZXQ9dGhpcy4kcGxheWVyLm9mZnNldCgpLHRoaXMucGxheWVyX3dpZHRoPXRoaXMuJHBsYXllci53aWR0aCgpLHRoaXMucGxheWVyX2hlaWdodD10aGlzLiRwbGF5ZXIuaGVpZ2h0KCksdGhpcy5zZXRfbGltaXRzKHRoaXMub3B0aW9ucy5jb250YWluZXJfd2lkdGgpLHRoaXMub3B0aW9ucy5zdGFydCYmdGhpcy5vcHRpb25zLnN0YXJ0LmNhbGwodGhpcy4kcGxheWVyLGksdGhpcy5nZXRfZHJhZ19kYXRhKGkpKSwhMX0sXy5vbl9kcmFnbW92ZT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldF9kcmFnX2RhdGEodCk7dGhpcy5vcHRpb25zLmF1dG9zY3JvbGwmJnRoaXMubWFuYWdlX3Njcm9sbChpKSx0aGlzLm9wdGlvbnMubW92ZV9lbGVtZW50JiYodGhpcy5oZWxwZXI/dGhpcy4kaGVscGVyOnRoaXMuJHBsYXllcikuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsbGVmdDppLnBvc2l0aW9uLmxlZnQsdG9wOmkucG9zaXRpb24udG9wfSk7dmFyIGU9dGhpcy5sYXN0X3Bvc2l0aW9ufHxpLnBvc2l0aW9uO3JldHVybiBpLnByZXZfcG9zaXRpb249ZSx0aGlzLm9wdGlvbnMuZHJhZyYmdGhpcy5vcHRpb25zLmRyYWcuY2FsbCh0aGlzLiRwbGF5ZXIsdCxpKSx0aGlzLmxhc3RfcG9zaXRpb249aS5wb3NpdGlvbiwhMX0sXy5vbl9kcmFnc3RvcD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldF9kcmFnX2RhdGEodCk7cmV0dXJuIHRoaXMuZHJhZ19zdGFydD0hMSx0aGlzLm9wdGlvbnMuc3RvcCYmdGhpcy5vcHRpb25zLnN0b3AuY2FsbCh0aGlzLiRwbGF5ZXIsdCxpKSx0aGlzLmhlbHBlciYmdGhpcy5vcHRpb25zLnJlbW92ZV9oZWxwZXImJnRoaXMuJGhlbHBlci5yZW1vdmUoKSwhMX0sXy5vbl9zZWxlY3Rfc3RhcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlzYWJsZWR8fHRoaXMuaWdub3JlX2RyYWcodCk/dm9pZCAwOiExfSxfLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITF9LF8uZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITB9LF8uZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGlzYWJsZSgpLHRoaXMuJGNvbnRhaW5lci5vZmYodGhpcy5ucyksdGhpcy4kZG9jdW1lbnQub2ZmKHRoaXMubnMpLHQod2luZG93KS5vZmYodGhpcy5ucyksdC5yZW1vdmVEYXRhKHRoaXMuJGNvbnRhaW5lcixcImRyYWdcIil9LF8uaWdub3JlX2RyYWc9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMub3B0aW9ucy5oYW5kbGU/IXQoaS50YXJnZXQpLmlzKHRoaXMub3B0aW9ucy5oYW5kbGUpOnQuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaWdub3JlX2RyYWdnaW5nKT90aGlzLm9wdGlvbnMuaWdub3JlX2RyYWdnaW5nKGkpOnQoaS50YXJnZXQpLmlzKHRoaXMub3B0aW9ucy5pZ25vcmVfZHJhZ2dpbmcuam9pbihcIiwgXCIpKX0sdC5mbi5kcmFnPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaSh0aGlzLHQpfSxpfSksZnVuY3Rpb24odCxpKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiLFwiZ3JpZHN0ZXItZHJhZ2dhYmxlXCIsXCJncmlkc3Rlci1jb2xsaXNpb25cIl0saSk6dC5Hcmlkc3Rlcj1pKHQuJHx8dC5qUXVlcnksdC5Hcmlkc3RlckRyYWdnYWJsZSx0LkdyaWRzdGVyQ29sbGlzaW9uKX0odGhpcyxmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUoaSxlKXt0aGlzLm9wdGlvbnM9dC5leHRlbmQoITAse30scyxlKSx0aGlzLiRlbD10KGkpLHRoaXMuJHdyYXBwZXI9dGhpcy4kZWwucGFyZW50KCksdGhpcy4kd2lkZ2V0cz10aGlzLiRlbC5jaGlsZHJlbih0aGlzLm9wdGlvbnMud2lkZ2V0X3NlbGVjdG9yKS5hZGRDbGFzcyhcImdzLXdcIiksdGhpcy53aWRnZXRzPVtdLHRoaXMuJGNoYW5nZWQ9dChbXSksdGhpcy53cmFwcGVyX3dpZHRoPXRoaXMuJHdyYXBwZXIud2lkdGgoKSx0aGlzLm1pbl93aWRnZXRfd2lkdGg9Mip0aGlzLm9wdGlvbnMud2lkZ2V0X21hcmdpbnNbMF0rdGhpcy5vcHRpb25zLndpZGdldF9iYXNlX2RpbWVuc2lvbnNbMF0sdGhpcy5taW5fd2lkZ2V0X2hlaWdodD0yKnRoaXMub3B0aW9ucy53aWRnZXRfbWFyZ2luc1sxXSt0aGlzLm9wdGlvbnMud2lkZ2V0X2Jhc2VfZGltZW5zaW9uc1sxXSx0aGlzLmdlbmVyYXRlZF9zdHlsZXNoZWV0cz1bXSx0aGlzLiRzdHlsZV90YWdzPXQoW10pLHRoaXMub3B0aW9ucy5hdXRvX2luaXQmJnRoaXMuaW5pdCgpfXZhciBzPXtuYW1lc3BhY2U6XCJcIix3aWRnZXRfc2VsZWN0b3I6XCJsaVwiLHdpZGdldF9tYXJnaW5zOlsxMCwxMF0sd2lkZ2V0X2Jhc2VfZGltZW5zaW9uczpbNDAwLDIyNV0sZXh0cmFfcm93czowLGV4dHJhX2NvbHM6MCxtaW5fY29sczoxLG1heF9jb2xzOjEvMCxtaW5fcm93czoxNSxtYXhfc2l6ZV94OiExLGF1dG9ncm93X2NvbHM6ITEsYXV0b2dlbmVyYXRlX3N0eWxlc2hlZXQ6ITAsYXZvaWRfb3ZlcmxhcHBlZF93aWRnZXRzOiEwLGF1dG9faW5pdDohMCxzZXJpYWxpemVfcGFyYW1zOmZ1bmN0aW9uKHQsaSl7cmV0dXJue2NvbDppLmNvbCxyb3c6aS5yb3csc2l6ZV94Omkuc2l6ZV94LHNpemVfeTppLnNpemVfeX19LGNvbGxpc2lvbjp7fSxkcmFnZ2FibGU6e2l0ZW1zOlwiLmdzLXdcIixkaXN0YW5jZTo0LGlnbm9yZV9kcmFnZ2luZzppLmRlZmF1bHRzLmlnbm9yZV9kcmFnZ2luZy5zbGljZSgwKX0scmVzaXplOntlbmFibGVkOiExLGF4ZXM6W1wiYm90aFwiXSxoYW5kbGVfYXBwZW5kX3RvOlwiXCIsaGFuZGxlX2NsYXNzOlwiZ3MtcmVzaXplLWhhbmRsZVwiLG1heF9zaXplOlsxLzAsMS8wXSxtaW5fc2l6ZTpbMSwxXX19O2UuZGVmYXVsdHM9cyxlLmdlbmVyYXRlZF9zdHlsZXNoZWV0cz1bXSxlLnNvcnRfYnlfcm93X2FzYz1mdW5jdGlvbihpKXtyZXR1cm4gaT1pLnNvcnQoZnVuY3Rpb24oaSxlKXtyZXR1cm4gaS5yb3d8fChpPXQoaSkuY29vcmRzKCkuZ3JpZCxlPXQoZSkuY29vcmRzKCkuZ3JpZCksaS5yb3c+ZS5yb3c/MTotMX0pfSxlLnNvcnRfYnlfcm93X2FuZF9jb2xfYXNjPWZ1bmN0aW9uKHQpe3JldHVybiB0PXQuc29ydChmdW5jdGlvbih0LGkpe3JldHVybiB0LnJvdz5pLnJvd3x8dC5yb3c9PT1pLnJvdyYmdC5jb2w+aS5jb2w/MTotMX0pfSxlLnNvcnRfYnlfY29sX2FzYz1mdW5jdGlvbih0KXtyZXR1cm4gdD10LnNvcnQoZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5jb2w+aS5jb2w/MTotMX0pfSxlLnNvcnRfYnlfcm93X2Rlc2M9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQucm93K3Quc2l6ZV95PGkucm93K2kuc2l6ZV95PzE6LTF9KX07dmFyIHI9ZS5wcm90b3R5cGU7cmV0dXJuIHIuaW5pdD1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5yZXNpemUuZW5hYmxlZCYmdGhpcy5zZXR1cF9yZXNpemUoKSx0aGlzLmdlbmVyYXRlX2dyaWRfYW5kX3N0eWxlc2hlZXQoKSx0aGlzLmdldF93aWRnZXRzX2Zyb21fRE9NKCksdGhpcy5zZXRfZG9tX2dyaWRfaGVpZ2h0KCksdGhpcy5zZXRfZG9tX2dyaWRfd2lkdGgoKSx0aGlzLiR3cmFwcGVyLmFkZENsYXNzKFwicmVhZHlcIiksdGhpcy5kcmFnZ2FibGUoKSx0aGlzLm9wdGlvbnMucmVzaXplLmVuYWJsZWQmJnRoaXMucmVzaXphYmxlKCksdCh3aW5kb3cpLmJpbmQoXCJyZXNpemUuZ3JpZHN0ZXJcIix0aHJvdHRsZSh0LnByb3h5KHRoaXMucmVjYWxjdWxhdGVfZmF1eF9ncmlkLHRoaXMpLDIwMCkpfSxyLmRpc2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kd3JhcHBlci5maW5kKFwiLnBsYXllci1yZXZlcnRcIikucmVtb3ZlQ2xhc3MoXCJwbGF5ZXItcmV2ZXJ0XCIpLHRoaXMuZHJhZ19hcGkuZGlzYWJsZSgpLHRoaXN9LHIuZW5hYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ19hcGkuZW5hYmxlKCksdGhpc30sci5kaXNhYmxlX3Jlc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRlbC5hZGRDbGFzcyhcImdzLXJlc2l6ZS1kaXNhYmxlZFwiKSx0aGlzLnJlc2l6ZV9hcGkuZGlzYWJsZSgpLHRoaXN9LHIuZW5hYmxlX3Jlc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRlbC5yZW1vdmVDbGFzcyhcImdzLXJlc2l6ZS1kaXNhYmxlZFwiKSx0aGlzLnJlc2l6ZV9hcGkuZW5hYmxlKCksdGhpc30sci5hZGRfd2lkZ2V0PWZ1bmN0aW9uKGksZSxzLHIsbyxhLG4pe3ZhciBoO2V8fChlPTEpLHN8fChzPTEpLCFyJiFvP2g9dGhpcy5uZXh0X3Bvc2l0aW9uKGUscyk6KGg9e2NvbDpyLHJvdzpvLHNpemVfeDplLHNpemVfeTpzfSx0aGlzLmVtcHR5X2NlbGxzKHIsbyxlLHMpKTt2YXIgXz10KGkpLmF0dHIoe1wiZGF0YS1jb2xcIjpoLmNvbCxcImRhdGEtcm93XCI6aC5yb3csXCJkYXRhLXNpemV4XCI6ZSxcImRhdGEtc2l6ZXlcIjpzfSkuYWRkQ2xhc3MoXCJncy13XCIpLmFwcGVuZFRvKHRoaXMuJGVsKS5oaWRlKCk7cmV0dXJuIHRoaXMuJHdpZGdldHM9dGhpcy4kd2lkZ2V0cy5hZGQoXyksdGhpcy5yZWdpc3Rlcl93aWRnZXQoXyksdGhpcy5hZGRfZmF1eF9yb3dzKGguc2l6ZV95KSxhJiZ0aGlzLnNldF93aWRnZXRfbWF4X3NpemUoXyxhKSxuJiZ0aGlzLnNldF93aWRnZXRfbWluX3NpemUoXyxuKSx0aGlzLnNldF9kb21fZ3JpZF93aWR0aCgpLHRoaXMuc2V0X2RvbV9ncmlkX2hlaWdodCgpLHRoaXMuZHJhZ19hcGkuc2V0X2xpbWl0cyh0aGlzLmNvbHMqdGhpcy5taW5fd2lkZ2V0X3dpZHRoKSxfLmZhZGVJbigpfSxyLnNldF93aWRnZXRfbWluX3NpemU9ZnVuY3Rpb24odCxpKXtpZih0PVwibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMuJHdpZGdldHMuZXEodCk6dCwhdC5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIGU9dC5kYXRhKFwiY29vcmRzXCIpLmdyaWQ7cmV0dXJuIGUubWluX3NpemVfeD1pWzBdLGUubWluX3NpemVfeT1pWzFdLHRoaXN9LHIuc2V0X3dpZGdldF9tYXhfc2l6ZT1mdW5jdGlvbih0LGkpe2lmKHQ9XCJudW1iZXJcIj09dHlwZW9mIHQ/dGhpcy4kd2lkZ2V0cy5lcSh0KTp0LCF0Lmxlbmd0aClyZXR1cm4gdGhpczt2YXIgZT10LmRhdGEoXCJjb29yZHNcIikuZ3JpZDtyZXR1cm4gZS5tYXhfc2l6ZV94PWlbMF0sZS5tYXhfc2l6ZV95PWlbMV0sdGhpc30sci5hZGRfcmVzaXplX2hhbmRsZT1mdW5jdGlvbihpKXt2YXIgZT10aGlzLm9wdGlvbnMucmVzaXplLmhhbmRsZV9hcHBlbmRfdG87cmV0dXJuIHQodGhpcy5yZXNpemVfaGFuZGxlX3RwbCkuYXBwZW5kVG8oZT90KGUsaSk6aSksdGhpc30sci5yZXNpemVfd2lkZ2V0PWZ1bmN0aW9uKHQsaSxlLHMpe3ZhciByPXQuY29vcmRzKCkuZ3JpZCxvPXIuY29sLGE9dGhpcy5vcHRpb25zLm1heF9jb2xzLG49ci5zaXplX3ksaD1yLmNvbCxfPWg7aXx8KGk9ci5zaXplX3gpLGV8fChlPXIuc2l6ZV95KSwxLzAhPT1hJiYoaT1NYXRoLm1pbihpLGEtbysxKSksZT5uJiZ0aGlzLmFkZF9mYXV4X3Jvd3MoTWF0aC5tYXgoZS1uLDApKTt2YXIgZD1vK2ktMTtkPnRoaXMuY29scyYmdGhpcy5hZGRfZmF1eF9jb2xzKGQtdGhpcy5jb2xzKTt2YXIgbD17Y29sOl8scm93OnIucm93LHNpemVfeDppLHNpemVfeTplfTtyZXR1cm4gdGhpcy5tdXRhdGVfd2lkZ2V0X2luX2dyaWRtYXAodCxyLGwpLHRoaXMuc2V0X2RvbV9ncmlkX2hlaWdodCgpLHRoaXMuc2V0X2RvbV9ncmlkX3dpZHRoKCkscyYmcy5jYWxsKHRoaXMsbC5zaXplX3gsbC5zaXplX3kpLHR9LHIubXV0YXRlX3dpZGdldF9pbl9ncmlkbWFwPWZ1bmN0aW9uKGksZSxzKXtlLnNpemVfeDt2YXIgcj1lLnNpemVfeSxvPXRoaXMuZ2V0X2NlbGxzX29jY3VwaWVkKGUpLGE9dGhpcy5nZXRfY2VsbHNfb2NjdXBpZWQocyksbj1bXTt0LmVhY2goby5jb2xzLGZ1bmN0aW9uKGksZSl7LTE9PT10LmluQXJyYXkoZSxhLmNvbHMpJiZuLnB1c2goZSl9KTt2YXIgaD1bXTt0LmVhY2goYS5jb2xzLGZ1bmN0aW9uKGksZSl7LTE9PT10LmluQXJyYXkoZSxvLmNvbHMpJiZoLnB1c2goZSl9KTt2YXIgXz1bXTt0LmVhY2goby5yb3dzLGZ1bmN0aW9uKGksZSl7LTE9PT10LmluQXJyYXkoZSxhLnJvd3MpJiZfLnB1c2goZSl9KTt2YXIgZD1bXTtpZih0LmVhY2goYS5yb3dzLGZ1bmN0aW9uKGksZSl7LTE9PT10LmluQXJyYXkoZSxvLnJvd3MpJiZkLnB1c2goZSl9KSx0aGlzLnJlbW92ZV9mcm9tX2dyaWRtYXAoZSksaC5sZW5ndGgpe3ZhciBsPVtzLmNvbCxzLnJvdyxzLnNpemVfeCxNYXRoLm1pbihyLHMuc2l6ZV95KSxpXTt0aGlzLmVtcHR5X2NlbGxzLmFwcGx5KHRoaXMsbCl9aWYoZC5sZW5ndGgpe3ZhciBjPVtzLmNvbCxzLnJvdyxzLnNpemVfeCxzLnNpemVfeSxpXTt0aGlzLmVtcHR5X2NlbGxzLmFwcGx5KHRoaXMsYyl9aWYoZS5jb2w9cy5jb2wsZS5yb3c9cy5yb3csZS5zaXplX3g9cy5zaXplX3gsZS5zaXplX3k9cy5zaXplX3ksdGhpcy5hZGRfdG9fZ3JpZG1hcChzLGkpLGkucmVtb3ZlQ2xhc3MoXCJwbGF5ZXItcmV2ZXJ0XCIpLGkuZGF0YShcImNvb3Jkc1wiKS51cGRhdGUoe3dpZHRoOnMuc2l6ZV94KnRoaXMub3B0aW9ucy53aWRnZXRfYmFzZV9kaW1lbnNpb25zWzBdKzIqKHMuc2l6ZV94LTEpKnRoaXMub3B0aW9ucy53aWRnZXRfbWFyZ2luc1swXSxoZWlnaHQ6cy5zaXplX3kqdGhpcy5vcHRpb25zLndpZGdldF9iYXNlX2RpbWVuc2lvbnNbMV0rMioocy5zaXplX3ktMSkqdGhpcy5vcHRpb25zLndpZGdldF9tYXJnaW5zWzFdfSksaS5hdHRyKHtcImRhdGEtY29sXCI6cy5jb2wsXCJkYXRhLXJvd1wiOnMucm93LFwiZGF0YS1zaXpleFwiOnMuc2l6ZV94LFwiZGF0YS1zaXpleVwiOnMuc2l6ZV95fSksbi5sZW5ndGgpe3ZhciBwPVtuWzBdLHMucm93LG4ubGVuZ3RoLE1hdGgubWluKHIscy5zaXplX3kpLGldO3RoaXMucmVtb3ZlX2VtcHR5X2NlbGxzLmFwcGx5KHRoaXMscCl9aWYoXy5sZW5ndGgpe3ZhciBnPVtzLmNvbCxzLnJvdyxzLnNpemVfeCxzLnNpemVfeSxpXTt0aGlzLnJlbW92ZV9lbXB0eV9jZWxscy5hcHBseSh0aGlzLGcpfXJldHVybiB0aGlzLm1vdmVfd2lkZ2V0X3VwKGkpLHRoaXN9LHIuZW1wdHlfY2VsbHM9ZnVuY3Rpb24oaSxlLHMscixvKXt2YXIgYT10aGlzLndpZGdldHNfYmVsb3coe2NvbDppLHJvdzplLXIsc2l6ZV94OnMsc2l6ZV95OnJ9KTtyZXR1cm4gYS5ub3QobykuZWFjaCh0LnByb3h5KGZ1bmN0aW9uKGkscyl7dmFyIG89dChzKS5jb29yZHMoKS5ncmlkO2lmKGUrci0xPj1vLnJvdyl7dmFyIGE9ZStyLW8ucm93O3RoaXMubW92ZV93aWRnZXRfZG93bih0KHMpLGEpfX0sdGhpcykpLHRoaXMuc2V0X2RvbV9ncmlkX2hlaWdodCgpLHRoaXN9LHIucmVtb3ZlX2VtcHR5X2NlbGxzPWZ1bmN0aW9uKGksZSxzLHIsbyl7dmFyIGE9dGhpcy53aWRnZXRzX2JlbG93KHtjb2w6aSxyb3c6ZSxzaXplX3g6cyxzaXplX3k6cn0pO3JldHVybiBhLm5vdChvKS5lYWNoKHQucHJveHkoZnVuY3Rpb24oaSxlKXt0aGlzLm1vdmVfd2lkZ2V0X3VwKHQoZSkscil9LHRoaXMpKSx0aGlzLnNldF9kb21fZ3JpZF9oZWlnaHQoKSx0aGlzfSxyLm5leHRfcG9zaXRpb249ZnVuY3Rpb24odCxpKXt0fHwodD0xKSxpfHwoaT0xKTtmb3IodmFyIHMscj10aGlzLmdyaWRtYXAsbz1yLmxlbmd0aCxhPVtdLG49MTtvPm47bisrKXtzPXJbbl0ubGVuZ3RoO2Zvcih2YXIgaD0xO3M+PWg7aCsrKXt2YXIgXz10aGlzLmNhbl9tb3ZlX3RvKHtzaXplX3g6dCxzaXplX3k6aX0sbixoKTtfJiZhLnB1c2goe2NvbDpuLHJvdzpoLHNpemVfeTppLHNpemVfeDp0fSl9fXJldHVybiBhLmxlbmd0aD9lLnNvcnRfYnlfcm93X2FuZF9jb2xfYXNjKGEpWzBdOiExfSxyLnJlbW92ZV93aWRnZXQ9ZnVuY3Rpb24oaSxlLHMpe3ZhciByPWkgaW5zdGFuY2VvZiB0P2k6dChpKSxvPXIuY29vcmRzKCkuZ3JpZDt0LmlzRnVuY3Rpb24oZSkmJihzPWUsZT0hMSksdGhpcy5jZWxsc19vY2N1cGllZF9ieV9wbGFjZWhvbGRlcj17fSx0aGlzLiR3aWRnZXRzPXRoaXMuJHdpZGdldHMubm90KHIpO3ZhciBhPXRoaXMud2lkZ2V0c19iZWxvdyhyKTtyZXR1cm4gdGhpcy5yZW1vdmVfZnJvbV9ncmlkbWFwKG8pLHIuZmFkZU91dCh0LnByb3h5KGZ1bmN0aW9uKCl7ci5yZW1vdmUoKSxlfHxhLmVhY2godC5wcm94eShmdW5jdGlvbihpLGUpe3RoaXMubW92ZV93aWRnZXRfdXAodChlKSxvLnNpemVfeSl9LHRoaXMpKSx0aGlzLnNldF9kb21fZ3JpZF9oZWlnaHQoKSxzJiZzLmNhbGwodGhpcyxpKX0sdGhpcykpLHRoaXN9LHIucmVtb3ZlX2FsbF93aWRnZXRzPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLiR3aWRnZXRzLmVhY2godC5wcm94eShmdW5jdGlvbih0LGUpe3RoaXMucmVtb3ZlX3dpZGdldChlLCEwLGkpfSx0aGlzKSksdGhpc30sci5zZXJpYWxpemU9ZnVuY3Rpb24oaSl7cmV0dXJuIGl8fChpPXRoaXMuJHdpZGdldHMpLGkubWFwKHQucHJveHkoZnVuY3Rpb24oaSxlKXt2YXIgcz10KGUpO3JldHVybiB0aGlzLm9wdGlvbnMuc2VyaWFsaXplX3BhcmFtcyhzLHMuY29vcmRzKCkuZ3JpZCl9LHRoaXMpKS5nZXQoKX0sci5zZXJpYWxpemVfY2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlcmlhbGl6ZSh0aGlzLiRjaGFuZ2VkKX0sci5kb21fdG9fY29vcmRzPWZ1bmN0aW9uKHQpe3JldHVybntjb2w6cGFyc2VJbnQodC5hdHRyKFwiZGF0YS1jb2xcIiksMTApLHJvdzpwYXJzZUludCh0LmF0dHIoXCJkYXRhLXJvd1wiKSwxMCksc2l6ZV94OnBhcnNlSW50KHQuYXR0cihcImRhdGEtc2l6ZXhcIiksMTApfHwxLHNpemVfeTpwYXJzZUludCh0LmF0dHIoXCJkYXRhLXNpemV5XCIpLDEwKXx8MSxtYXhfc2l6ZV94OnBhcnNlSW50KHQuYXR0cihcImRhdGEtbWF4LXNpemV4XCIpLDEwKXx8ITEsbWF4X3NpemVfeTpwYXJzZUludCh0LmF0dHIoXCJkYXRhLW1heC1zaXpleVwiKSwxMCl8fCExLG1pbl9zaXplX3g6cGFyc2VJbnQodC5hdHRyKFwiZGF0YS1taW4tc2l6ZXhcIiksMTApfHwhMSxtaW5fc2l6ZV95OnBhcnNlSW50KHQuYXR0cihcImRhdGEtbWluLXNpemV5XCIpLDEwKXx8ITEsZWw6dH19LHIucmVnaXN0ZXJfd2lkZ2V0PWZ1bmN0aW9uKGkpe3ZhciBlPWkgaW5zdGFuY2VvZiBqUXVlcnkscz1lP3RoaXMuZG9tX3RvX2Nvb3JkcyhpKTppLHI9ITE7ZXx8KGk9cy5lbCk7dmFyIG89dGhpcy5jYW5fZ29fd2lkZ2V0X3VwKHMpO3JldHVybiBvJiYocy5yb3c9byxpLmF0dHIoXCJkYXRhLXJvd1wiLG8pLHRoaXMuJGVsLnRyaWdnZXIoXCJncmlkc3Rlcjpwb3NpdGlvbmNoYW5nZWRcIixbc10pLHI9ITApLHRoaXMub3B0aW9ucy5hdm9pZF9vdmVybGFwcGVkX3dpZGdldHMmJiF0aGlzLmNhbl9tb3ZlX3RvKHtzaXplX3g6cy5zaXplX3gsc2l6ZV95OnMuc2l6ZV95fSxzLmNvbCxzLnJvdykmJih0LmV4dGVuZChzLHRoaXMubmV4dF9wb3NpdGlvbihzLnNpemVfeCxzLnNpemVfeSkpLGkuYXR0cih7XCJkYXRhLWNvbFwiOnMuY29sLFwiZGF0YS1yb3dcIjpzLnJvdyxcImRhdGEtc2l6ZXhcIjpzLnNpemVfeCxcImRhdGEtc2l6ZXlcIjpzLnNpemVfeX0pLHI9ITApLGkuZGF0YShcImNvb3Jkc1wiLGkuY29vcmRzKCkpLGkuZGF0YShcImNvb3Jkc1wiKS5ncmlkPXMsdGhpcy5hZGRfdG9fZ3JpZG1hcChzLGkpLHRoaXMub3B0aW9ucy5yZXNpemUuZW5hYmxlZCYmdGhpcy5hZGRfcmVzaXplX2hhbmRsZShpKSxyfSxyLnVwZGF0ZV93aWRnZXRfcG9zaXRpb249ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5mb3JfZWFjaF9jZWxsX29jY3VwaWVkKHQsZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5ncmlkbWFwW3RdPyh0aGlzLmdyaWRtYXBbdF1bZV09aSx2b2lkIDApOnRoaXN9KSx0aGlzfSxyLnJlbW92ZV9mcm9tX2dyaWRtYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlX3dpZGdldF9wb3NpdGlvbih0LCExKX0sci5hZGRfdG9fZ3JpZG1hcD1mdW5jdGlvbihpLGUpe2lmKHRoaXMudXBkYXRlX3dpZGdldF9wb3NpdGlvbihpLGV8fGkuZWwpLGkuZWwpe3ZhciBzPXRoaXMud2lkZ2V0c19iZWxvdyhpLmVsKTtzLmVhY2godC5wcm94eShmdW5jdGlvbihpLGUpe3RoaXMubW92ZV93aWRnZXRfdXAodChlKSl9LHRoaXMpKX19LHIuZHJhZ2dhYmxlPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPXQuZXh0ZW5kKCEwLHt9LHRoaXMub3B0aW9ucy5kcmFnZ2FibGUse29mZnNldF9sZWZ0OnRoaXMub3B0aW9ucy53aWRnZXRfbWFyZ2luc1swXSxvZmZzZXRfdG9wOnRoaXMub3B0aW9ucy53aWRnZXRfbWFyZ2luc1sxXSxjb250YWluZXJfd2lkdGg6dGhpcy5jb2xzKnRoaXMubWluX3dpZGdldF93aWR0aCxsaW1pdDohMCxzdGFydDpmdW5jdGlvbihlLHMpe2kuJHdpZGdldHMuZmlsdGVyKFwiLnBsYXllci1yZXZlcnRcIikucmVtb3ZlQ2xhc3MoXCJwbGF5ZXItcmV2ZXJ0XCIpLGkuJHBsYXllcj10KHRoaXMpLGkuJGhlbHBlcj10KHMuJGhlbHBlciksaS5oZWxwZXI9IWkuJGhlbHBlci5pcyhpLiRwbGF5ZXIpLGkub25fc3RhcnRfZHJhZy5jYWxsKGksZSxzKSxpLiRlbC50cmlnZ2VyKFwiZ3JpZHN0ZXI6ZHJhZ3N0YXJ0XCIpfSxzdG9wOmZ1bmN0aW9uKHQsZSl7aS5vbl9zdG9wX2RyYWcuY2FsbChpLHQsZSksaS4kZWwudHJpZ2dlcihcImdyaWRzdGVyOmRyYWdzdG9wXCIpfSxkcmFnOnRocm90dGxlKGZ1bmN0aW9uKHQsZSl7aS5vbl9kcmFnLmNhbGwoaSx0LGUpLGkuJGVsLnRyaWdnZXIoXCJncmlkc3RlcjpkcmFnXCIpfSw2MCl9KTtyZXR1cm4gdGhpcy5kcmFnX2FwaT10aGlzLiRlbC5kcmFnKGUpLHRoaXN9LHIucmVzaXphYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzaXplX2FwaT10aGlzLiRlbC5kcmFnKHtpdGVtczpcIi5cIit0aGlzLm9wdGlvbnMucmVzaXplLmhhbmRsZV9jbGFzcyxvZmZzZXRfbGVmdDp0aGlzLm9wdGlvbnMud2lkZ2V0X21hcmdpbnNbMF0sY29udGFpbmVyX3dpZHRoOnRoaXMuY29udGFpbmVyX3dpZHRoLG1vdmVfZWxlbWVudDohMSxyZXNpemU6ITAsbGltaXQ6dGhpcy5vcHRpb25zLmF1dG9ncm93X2NvbHM/ITE6ITAsc3RhcnQ6dC5wcm94eSh0aGlzLm9uX3N0YXJ0X3Jlc2l6ZSx0aGlzKSxzdG9wOnQucHJveHkoZnVuY3Rpb24oaSxlKXtkZWxheSh0LnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5vbl9zdG9wX3Jlc2l6ZShpLGUpfSx0aGlzKSwxMjApfSx0aGlzKSxkcmFnOnRocm90dGxlKHQucHJveHkodGhpcy5vbl9yZXNpemUsdGhpcyksNjApfSksdGhpc30sci5zZXR1cF9yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZV9oYW5kbGVfY2xhc3M9dGhpcy5vcHRpb25zLnJlc2l6ZS5oYW5kbGVfY2xhc3M7dmFyIGk9dGhpcy5vcHRpb25zLnJlc2l6ZS5heGVzLGU9JzxzcGFuIGNsYXNzPVwiJyt0aGlzLnJlc2l6ZV9oYW5kbGVfY2xhc3MrXCIgXCIrdGhpcy5yZXNpemVfaGFuZGxlX2NsYXNzKycte3R5cGV9XCIgLz4nO3JldHVybiB0aGlzLnJlc2l6ZV9oYW5kbGVfdHBsPXQubWFwKGksZnVuY3Rpb24odCl7cmV0dXJuIGUucmVwbGFjZShcInt0eXBlfVwiLHQpfSkuam9pbihcIlwiKSx0LmlzQXJyYXkodGhpcy5vcHRpb25zLmRyYWdnYWJsZS5pZ25vcmVfZHJhZ2dpbmcpJiZ0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLmlnbm9yZV9kcmFnZ2luZy5wdXNoKFwiLlwiK3RoaXMucmVzaXplX2hhbmRsZV9jbGFzcyksdGhpc30sci5vbl9zdGFydF9kcmFnPWZ1bmN0aW9uKGksZSl7dGhpcy4kaGVscGVyLmFkZCh0aGlzLiRwbGF5ZXIpLmFkZCh0aGlzLiR3cmFwcGVyKS5hZGRDbGFzcyhcImRyYWdnaW5nXCIpLHRoaXMuaGlnaGVzdF9jb2w9dGhpcy5nZXRfaGlnaGVzdF9vY2N1cGllZF9jZWxsKCkuY29sLHRoaXMuJHBsYXllci5hZGRDbGFzcyhcInBsYXllclwiKSx0aGlzLnBsYXllcl9ncmlkX2RhdGE9dGhpcy4kcGxheWVyLmNvb3JkcygpLmdyaWQsdGhpcy5wbGFjZWhvbGRlcl9ncmlkX2RhdGE9dC5leHRlbmQoe30sdGhpcy5wbGF5ZXJfZ3JpZF9kYXRhKSx0aGlzLnNldF9kb21fZ3JpZF9oZWlnaHQodGhpcy4kZWwuaGVpZ2h0KCkrdGhpcy5wbGF5ZXJfZ3JpZF9kYXRhLnNpemVfeSp0aGlzLm1pbl93aWRnZXRfaGVpZ2h0KSx0aGlzLnNldF9kb21fZ3JpZF93aWR0aCh0aGlzLmNvbHMpO3ZhciBzPXRoaXMucGxheWVyX2dyaWRfZGF0YS5zaXplX3gscj10aGlzLmNvbHMtdGhpcy5oaWdoZXN0X2NvbDt0aGlzLm9wdGlvbnMuYXV0b2dyb3dfY29scyYmcz49ciYmdGhpcy5hZGRfZmF1eF9jb2xzKE1hdGgubWluKHMtciwxKSk7dmFyIG89dGhpcy5mYXV4X2dyaWQsYT10aGlzLiRwbGF5ZXIuZGF0YShcImNvb3Jkc1wiKS5jb29yZHM7dGhpcy5jZWxsc19vY2N1cGllZF9ieV9wbGF5ZXI9dGhpcy5nZXRfY2VsbHNfb2NjdXBpZWQodGhpcy5wbGF5ZXJfZ3JpZF9kYXRhKSx0aGlzLmNlbGxzX29jY3VwaWVkX2J5X3BsYWNlaG9sZGVyPXRoaXMuZ2V0X2NlbGxzX29jY3VwaWVkKHRoaXMucGxhY2Vob2xkZXJfZ3JpZF9kYXRhKSx0aGlzLmxhc3RfY29scz1bXSx0aGlzLmxhc3Rfcm93cz1bXSx0aGlzLmNvbGxpc2lvbl9hcGk9dGhpcy4kaGVscGVyLmNvbGxpc2lvbihvLHRoaXMub3B0aW9ucy5jb2xsaXNpb24pLHRoaXMuJHByZXZpZXdfaG9sZGVyPXQoXCI8XCIrdGhpcy4kcGxheWVyLmdldCgwKS50YWdOYW1lK1wiIC8+XCIse1wiY2xhc3NcIjpcInByZXZpZXctaG9sZGVyXCIsXCJkYXRhLXJvd1wiOnRoaXMuJHBsYXllci5hdHRyKFwiZGF0YS1yb3dcIiksXCJkYXRhLWNvbFwiOnRoaXMuJHBsYXllci5hdHRyKFwiZGF0YS1jb2xcIiksY3NzOnt3aWR0aDphLndpZHRoLGhlaWdodDphLmhlaWdodH19KS5hcHBlbmRUbyh0aGlzLiRlbCksdGhpcy5vcHRpb25zLmRyYWdnYWJsZS5zdGFydCYmdGhpcy5vcHRpb25zLmRyYWdnYWJsZS5zdGFydC5jYWxsKHRoaXMsaSxlKX0sci5vbl9kcmFnPWZ1bmN0aW9uKHQsaSl7aWYobnVsbD09PXRoaXMuJHBsYXllcilyZXR1cm4hMTt2YXIgZT17bGVmdDppLnBvc2l0aW9uLmxlZnQrdGhpcy5iYXNlWCx0b3A6aS5wb3NpdGlvbi50b3ArdGhpcy5iYXNlWX07aWYodGhpcy5vcHRpb25zLmF1dG9ncm93X2NvbHMpe3ZhciBzPXRoaXMucGxhY2Vob2xkZXJfZ3JpZF9kYXRhLmNvbCt0aGlzLnBsYWNlaG9sZGVyX2dyaWRfZGF0YS5zaXplX3gtMTtzPj10aGlzLmNvbHMtMSYmdGhpcy5vcHRpb25zLm1heF9jb2xzPj10aGlzLmNvbHMrMSYmKHRoaXMuYWRkX2ZhdXhfY29scygxKSx0aGlzLnNldF9kb21fZ3JpZF93aWR0aCh0aGlzLmNvbHMrMSksdGhpcy5kcmFnX2FwaS5zZXRfbGltaXRzKHRoaXMuY29udGFpbmVyX3dpZHRoKSksdGhpcy5jb2xsaXNpb25fYXBpLnNldF9jb2xsaWRlcnModGhpcy5mYXV4X2dyaWQpfXRoaXMuY29sbGlkZXJzX2RhdGE9dGhpcy5jb2xsaXNpb25fYXBpLmdldF9jbG9zZXN0X2NvbGxpZGVycyhlKSx0aGlzLm9uX292ZXJsYXBwZWRfY29sdW1uX2NoYW5nZSh0aGlzLm9uX3N0YXJ0X292ZXJsYXBwaW5nX2NvbHVtbix0aGlzLm9uX3N0b3Bfb3ZlcmxhcHBpbmdfY29sdW1uKSx0aGlzLm9uX292ZXJsYXBwZWRfcm93X2NoYW5nZSh0aGlzLm9uX3N0YXJ0X292ZXJsYXBwaW5nX3Jvdyx0aGlzLm9uX3N0b3Bfb3ZlcmxhcHBpbmdfcm93KSx0aGlzLmhlbHBlciYmdGhpcy4kcGxheWVyJiZ0aGlzLiRwbGF5ZXIuY3NzKHtsZWZ0OmkucG9zaXRpb24ubGVmdCx0b3A6aS5wb3NpdGlvbi50b3B9KSx0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLmRyYWcmJnRoaXMub3B0aW9ucy5kcmFnZ2FibGUuZHJhZy5jYWxsKHRoaXMsdCxpKX0sci5vbl9zdG9wX2RyYWc9ZnVuY3Rpb24odCxpKXt0aGlzLiRoZWxwZXIuYWRkKHRoaXMuJHBsYXllcikuYWRkKHRoaXMuJHdyYXBwZXIpLnJlbW92ZUNsYXNzKFwiZHJhZ2dpbmdcIiksaS5wb3NpdGlvbi5sZWZ0PWkucG9zaXRpb24ubGVmdCt0aGlzLmJhc2VYLGkucG9zaXRpb24udG9wPWkucG9zaXRpb24udG9wK3RoaXMuYmFzZVksdGhpcy5jb2xsaWRlcnNfZGF0YT10aGlzLmNvbGxpc2lvbl9hcGkuZ2V0X2Nsb3Nlc3RfY29sbGlkZXJzKGkucG9zaXRpb24pLHRoaXMub25fb3ZlcmxhcHBlZF9jb2x1bW5fY2hhbmdlKHRoaXMub25fc3RhcnRfb3ZlcmxhcHBpbmdfY29sdW1uLHRoaXMub25fc3RvcF9vdmVybGFwcGluZ19jb2x1bW4pLHRoaXMub25fb3ZlcmxhcHBlZF9yb3dfY2hhbmdlKHRoaXMub25fc3RhcnRfb3ZlcmxhcHBpbmdfcm93LHRoaXMub25fc3RvcF9vdmVybGFwcGluZ19yb3cpLHRoaXMuJHBsYXllci5hZGRDbGFzcyhcInBsYXllci1yZXZlcnRcIikucmVtb3ZlQ2xhc3MoXCJwbGF5ZXJcIikuYXR0cih7XCJkYXRhLWNvbFwiOnRoaXMucGxhY2Vob2xkZXJfZ3JpZF9kYXRhLmNvbCxcImRhdGEtcm93XCI6dGhpcy5wbGFjZWhvbGRlcl9ncmlkX2RhdGEucm93fSkuY3NzKHtsZWZ0OlwiXCIsdG9wOlwiXCJ9KSx0aGlzLiRjaGFuZ2VkPXRoaXMuJGNoYW5nZWQuYWRkKHRoaXMuJHBsYXllciksdGhpcy5jZWxsc19vY2N1cGllZF9ieV9wbGF5ZXI9dGhpcy5nZXRfY2VsbHNfb2NjdXBpZWQodGhpcy5wbGFjZWhvbGRlcl9ncmlkX2RhdGEpLHRoaXMuc2V0X2NlbGxzX3BsYXllcl9vY2N1cGllcyh0aGlzLnBsYWNlaG9sZGVyX2dyaWRfZGF0YS5jb2wsdGhpcy5wbGFjZWhvbGRlcl9ncmlkX2RhdGEucm93KSx0aGlzLiRwbGF5ZXIuY29vcmRzKCkuZ3JpZC5yb3c9dGhpcy5wbGFjZWhvbGRlcl9ncmlkX2RhdGEucm93LHRoaXMuJHBsYXllci5jb29yZHMoKS5ncmlkLmNvbD10aGlzLnBsYWNlaG9sZGVyX2dyaWRfZGF0YS5jb2wsdGhpcy5vcHRpb25zLmRyYWdnYWJsZS5zdG9wJiZ0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLnN0b3AuY2FsbCh0aGlzLHQsaSksdGhpcy4kcHJldmlld19ob2xkZXIucmVtb3ZlKCksdGhpcy4kcGxheWVyPW51bGwsdGhpcy4kaGVscGVyPW51bGwsdGhpcy5wbGFjZWhvbGRlcl9ncmlkX2RhdGE9e30sdGhpcy5wbGF5ZXJfZ3JpZF9kYXRhPXt9LHRoaXMuY2VsbHNfb2NjdXBpZWRfYnlfcGxhY2Vob2xkZXI9e30sdGhpcy5jZWxsc19vY2N1cGllZF9ieV9wbGF5ZXI9e30sdGhpcy5zZXRfZG9tX2dyaWRfaGVpZ2h0KCksdGhpcy5zZXRfZG9tX2dyaWRfd2lkdGgoKSx0aGlzLm9wdGlvbnMuYXV0b2dyb3dfY29scyYmdGhpcy5kcmFnX2FwaS5zZXRfbGltaXRzKHRoaXMuY29scyp0aGlzLm1pbl93aWRnZXRfd2lkdGgpfSxyLm9uX3N0YXJ0X3Jlc2l6ZT1mdW5jdGlvbihpLGUpe3RoaXMuJHJlc2l6ZWRfd2lkZ2V0PWUuJHBsYXllci5jbG9zZXN0KFwiLmdzLXdcIiksdGhpcy5yZXNpemVfY29vcmRzPXRoaXMuJHJlc2l6ZWRfd2lkZ2V0LmNvb3JkcygpLHRoaXMucmVzaXplX3dnZD10aGlzLnJlc2l6ZV9jb29yZHMuZ3JpZCx0aGlzLnJlc2l6ZV9pbml0aWFsX3dpZHRoPXRoaXMucmVzaXplX2Nvb3Jkcy5jb29yZHMud2lkdGgsdGhpcy5yZXNpemVfaW5pdGlhbF9oZWlnaHQ9dGhpcy5yZXNpemVfY29vcmRzLmNvb3Jkcy5oZWlnaHQsdGhpcy5yZXNpemVfaW5pdGlhbF9zaXpleD10aGlzLnJlc2l6ZV9jb29yZHMuZ3JpZC5zaXplX3gsdGhpcy5yZXNpemVfaW5pdGlhbF9zaXpleT10aGlzLnJlc2l6ZV9jb29yZHMuZ3JpZC5zaXplX3ksdGhpcy5yZXNpemVfaW5pdGlhbF9jb2w9dGhpcy5yZXNpemVfY29vcmRzLmdyaWQuY29sLHRoaXMucmVzaXplX2xhc3Rfc2l6ZXg9dGhpcy5yZXNpemVfaW5pdGlhbF9zaXpleCx0aGlzLnJlc2l6ZV9sYXN0X3NpemV5PXRoaXMucmVzaXplX2luaXRpYWxfc2l6ZXksdGhpcy5yZXNpemVfbWF4X3NpemVfeD1NYXRoLm1pbih0aGlzLnJlc2l6ZV93Z2QubWF4X3NpemVfeHx8dGhpcy5vcHRpb25zLnJlc2l6ZS5tYXhfc2l6ZVswXSx0aGlzLm9wdGlvbnMubWF4X2NvbHMtdGhpcy5yZXNpemVfaW5pdGlhbF9jb2wrMSksdGhpcy5yZXNpemVfbWF4X3NpemVfeT10aGlzLnJlc2l6ZV93Z2QubWF4X3NpemVfeXx8dGhpcy5vcHRpb25zLnJlc2l6ZS5tYXhfc2l6ZVsxXSx0aGlzLnJlc2l6ZV9taW5fc2l6ZV94PXRoaXMucmVzaXplX3dnZC5taW5fc2l6ZV94fHx0aGlzLm9wdGlvbnMucmVzaXplLm1pbl9zaXplWzBdfHwxLHRoaXMucmVzaXplX21pbl9zaXplX3k9dGhpcy5yZXNpemVfd2dkLm1pbl9zaXplX3l8fHRoaXMub3B0aW9ucy5yZXNpemUubWluX3NpemVbMV18fDEsdGhpcy5yZXNpemVfaW5pdGlhbF9sYXN0X2NvbD10aGlzLmdldF9oaWdoZXN0X29jY3VwaWVkX2NlbGwoKS5jb2wsdGhpcy5zZXRfZG9tX2dyaWRfd2lkdGgodGhpcy5jb2xzKSx0aGlzLnJlc2l6ZV9kaXI9e3JpZ2h0OmUuJHBsYXllci5pcyhcIi5cIit0aGlzLnJlc2l6ZV9oYW5kbGVfY2xhc3MrXCIteFwiKSxib3R0b206ZS4kcGxheWVyLmlzKFwiLlwiK3RoaXMucmVzaXplX2hhbmRsZV9jbGFzcytcIi15XCIpfSx0aGlzLiRyZXNpemVkX3dpZGdldC5jc3Moe1wibWluLXdpZHRoXCI6dGhpcy5vcHRpb25zLndpZGdldF9iYXNlX2RpbWVuc2lvbnNbMF0sXCJtaW4taGVpZ2h0XCI6dGhpcy5vcHRpb25zLndpZGdldF9iYXNlX2RpbWVuc2lvbnNbMV19KTt2YXIgcz10aGlzLiRyZXNpemVkX3dpZGdldC5nZXQoMCkudGFnTmFtZTt0aGlzLiRyZXNpemVfcHJldmlld19ob2xkZXI9dChcIjxcIitzK1wiIC8+XCIse1wiY2xhc3NcIjpcInByZXZpZXctaG9sZGVyIHJlc2l6ZS1wcmV2aWV3LWhvbGRlclwiLFwiZGF0YS1yb3dcIjp0aGlzLiRyZXNpemVkX3dpZGdldC5hdHRyKFwiZGF0YS1yb3dcIiksXCJkYXRhLWNvbFwiOnRoaXMuJHJlc2l6ZWRfd2lkZ2V0LmF0dHIoXCJkYXRhLWNvbFwiKSxjc3M6e3dpZHRoOnRoaXMucmVzaXplX2luaXRpYWxfd2lkdGgsaGVpZ2h0OnRoaXMucmVzaXplX2luaXRpYWxfaGVpZ2h0fX0pLmFwcGVuZFRvKHRoaXMuJGVsKSx0aGlzLiRyZXNpemVkX3dpZGdldC5hZGRDbGFzcyhcInJlc2l6aW5nXCIpLHRoaXMub3B0aW9ucy5yZXNpemUuc3RhcnQmJnRoaXMub3B0aW9ucy5yZXNpemUuc3RhcnQuY2FsbCh0aGlzLGksZSx0aGlzLiRyZXNpemVkX3dpZGdldCksdGhpcy4kZWwudHJpZ2dlcihcImdyaWRzdGVyOnJlc2l6ZXN0YXJ0XCIpfSxyLm9uX3N0b3BfcmVzaXplPWZ1bmN0aW9uKGksZSl7dGhpcy4kcmVzaXplZF93aWRnZXQucmVtb3ZlQ2xhc3MoXCJyZXNpemluZ1wiKS5jc3Moe3dpZHRoOlwiXCIsaGVpZ2h0OlwiXCJ9KSxkZWxheSh0LnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kcmVzaXplX3ByZXZpZXdfaG9sZGVyLnJlbW92ZSgpLmNzcyh7XCJtaW4td2lkdGhcIjpcIlwiLFwibWluLWhlaWdodFwiOlwiXCJ9KSx0aGlzLm9wdGlvbnMucmVzaXplLnN0b3AmJnRoaXMub3B0aW9ucy5yZXNpemUuc3RvcC5jYWxsKHRoaXMsaSxlLHRoaXMuJHJlc2l6ZWRfd2lkZ2V0KSx0aGlzLiRlbC50cmlnZ2VyKFwiZ3JpZHN0ZXI6cmVzaXplc3RvcFwiKX0sdGhpcyksMzAwKSx0aGlzLnNldF9kb21fZ3JpZF93aWR0aCgpLHRoaXMub3B0aW9ucy5hdXRvZ3Jvd19jb2xzJiZ0aGlzLmRyYWdfYXBpLnNldF9saW1pdHModGhpcy5jb2xzKnRoaXMubWluX3dpZGdldF93aWR0aCl9LHIub25fcmVzaXplPWZ1bmN0aW9uKHQsaSl7dmFyIGUscz1pLnBvaW50ZXIuZGlmZl9sZWZ0LHI9aS5wb2ludGVyLmRpZmZfdG9wLG89dGhpcy5vcHRpb25zLndpZGdldF9iYXNlX2RpbWVuc2lvbnNbMF0sYT10aGlzLm9wdGlvbnMud2lkZ2V0X2Jhc2VfZGltZW5zaW9uc1sxXSxuPXRoaXMub3B0aW9ucy53aWRnZXRfbWFyZ2luc1swXSxoPXRoaXMub3B0aW9ucy53aWRnZXRfbWFyZ2luc1sxXSxfPXRoaXMucmVzaXplX21heF9zaXplX3gsZD10aGlzLnJlc2l6ZV9taW5fc2l6ZV94LGw9dGhpcy5yZXNpemVfbWF4X3NpemVfeSxjPXRoaXMucmVzaXplX21pbl9zaXplX3kscD10aGlzLm9wdGlvbnMuYXV0b2dyb3dfY29scyxnPTEvMCx1PTEvMCxmPU1hdGguY2VpbChzLyhvKzIqbiktLjIpLHc9TWF0aC5jZWlsKHIvKGErMipoKS0uMiksbT1NYXRoLm1heCgxLHRoaXMucmVzaXplX2luaXRpYWxfc2l6ZXgrZikseT1NYXRoLm1heCgxLHRoaXMucmVzaXplX2luaXRpYWxfc2l6ZXkrdyksdj10aGlzLmNvbnRhaW5lcl93aWR0aC90aGlzLm1pbl93aWRnZXRfd2lkdGgtdGhpcy5yZXNpemVfaW5pdGlhbF9jb2wrMSx6PXYqdGhpcy5taW5fd2lkZ2V0X3dpZHRoLTIqbjtpZihtPU1hdGgubWF4KE1hdGgubWluKG0sXyksZCksbT1NYXRoLm1pbih2LG0pLGU9XypvKzIqKG0tMSkqbixnPU1hdGgubWluKGUseiksbWluX3dpZHRoPWQqbysyKihtLTEpKm4seT1NYXRoLm1heChNYXRoLm1pbih5LGwpLGMpLHU9bCphKzIqKHktMSkqaCxtaW5faGVpZ2h0PWMqYSsyKih5LTEpKmgsdGhpcy5yZXNpemVfZGlyLnJpZ2h0P3k9dGhpcy5yZXNpemVfaW5pdGlhbF9zaXpleTp0aGlzLnJlc2l6ZV9kaXIuYm90dG9tJiYobT10aGlzLnJlc2l6ZV9pbml0aWFsX3NpemV4KSxwKXt2YXIgeD10aGlzLnJlc2l6ZV9pbml0aWFsX2NvbCttLTE7cCYmeD49dGhpcy5yZXNpemVfaW5pdGlhbF9sYXN0X2NvbCYmKHRoaXMuc2V0X2RvbV9ncmlkX3dpZHRoKE1hdGgubWF4KHgrMSx0aGlzLmNvbHMpKSx4PnRoaXMuY29scyYmdGhpcy5hZGRfZmF1eF9jb2xzKHgtdGhpcy5jb2xzKSl9dmFyICQ9e307IXRoaXMucmVzaXplX2Rpci5ib3R0b20mJigkLndpZHRoPU1hdGgubWF4KE1hdGgubWluKHRoaXMucmVzaXplX2luaXRpYWxfd2lkdGgrcyxnKSxtaW5fd2lkdGgpKSwhdGhpcy5yZXNpemVfZGlyLnJpZ2h0JiYoJC5oZWlnaHQ9TWF0aC5tYXgoTWF0aC5taW4odGhpcy5yZXNpemVfaW5pdGlhbF9oZWlnaHQrcix1KSxtaW5faGVpZ2h0KSksdGhpcy4kcmVzaXplZF93aWRnZXQuY3NzKCQpLChtIT09dGhpcy5yZXNpemVfbGFzdF9zaXpleHx8eSE9PXRoaXMucmVzaXplX2xhc3Rfc2l6ZXkpJiYodGhpcy5yZXNpemVfd2lkZ2V0KHRoaXMuJHJlc2l6ZWRfd2lkZ2V0LG0seSksdGhpcy5zZXRfZG9tX2dyaWRfd2lkdGgodGhpcy5jb2xzKSx0aGlzLiRyZXNpemVfcHJldmlld19ob2xkZXIuY3NzKHt3aWR0aDpcIlwiLGhlaWdodDpcIlwifSkuYXR0cih7XCJkYXRhLXJvd1wiOnRoaXMuJHJlc2l6ZWRfd2lkZ2V0LmF0dHIoXCJkYXRhLXJvd1wiKSxcImRhdGEtc2l6ZXhcIjptLFwiZGF0YS1zaXpleVwiOnl9KSksdGhpcy5vcHRpb25zLnJlc2l6ZS5yZXNpemUmJnRoaXMub3B0aW9ucy5yZXNpemUucmVzaXplLmNhbGwodGhpcyx0LGksdGhpcy4kcmVzaXplZF93aWRnZXQpLHRoaXMuJGVsLnRyaWdnZXIoXCJncmlkc3RlcjpyZXNpemVcIiksdGhpcy5yZXNpemVfbGFzdF9zaXpleD1tLHRoaXMucmVzaXplX2xhc3Rfc2l6ZXk9eX0sci5vbl9vdmVybGFwcGVkX2NvbHVtbl9jaGFuZ2U9ZnVuY3Rpb24oaSxlKXtpZighdGhpcy5jb2xsaWRlcnNfZGF0YS5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIHMscj10aGlzLmdldF90YXJnZXRlZF9jb2x1bW5zKHRoaXMuY29sbGlkZXJzX2RhdGFbMF0uZWwuZGF0YS5jb2wpLG89dGhpcy5sYXN0X2NvbHMubGVuZ3RoLGE9ci5sZW5ndGg7Zm9yKHM9MDthPnM7cysrKS0xPT09dC5pbkFycmF5KHJbc10sdGhpcy5sYXN0X2NvbHMpJiYoaXx8dC5ub29wKS5jYWxsKHRoaXMscltzXSk7Zm9yKHM9MDtvPnM7cysrKS0xPT09dC5pbkFycmF5KHRoaXMubGFzdF9jb2xzW3NdLHIpJiYoZXx8dC5ub29wKS5jYWxsKHRoaXMsdGhpcy5sYXN0X2NvbHNbc10pO3JldHVybiB0aGlzLmxhc3RfY29scz1yLHRoaXN9LHIub25fb3ZlcmxhcHBlZF9yb3dfY2hhbmdlPWZ1bmN0aW9uKGksZSl7aWYoIXRoaXMuY29sbGlkZXJzX2RhdGEubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBzLHI9dGhpcy5nZXRfdGFyZ2V0ZWRfcm93cyh0aGlzLmNvbGxpZGVyc19kYXRhWzBdLmVsLmRhdGEucm93KSxvPXRoaXMubGFzdF9yb3dzLmxlbmd0aCxhPXIubGVuZ3RoO2ZvcihzPTA7YT5zO3MrKyktMT09PXQuaW5BcnJheShyW3NdLHRoaXMubGFzdF9yb3dzKSYmKGl8fHQubm9vcCkuY2FsbCh0aGlzLHJbc10pO2ZvcihzPTA7bz5zO3MrKyktMT09PXQuaW5BcnJheSh0aGlzLmxhc3Rfcm93c1tzXSxyKSYmKGV8fHQubm9vcCkuY2FsbCh0aGlzLHRoaXMubGFzdF9yb3dzW3NdKTt0aGlzLmxhc3Rfcm93cz1yfSxyLnNldF9wbGF5ZXI9ZnVuY3Rpb24odCxpLGUpe3ZhciBzPXRoaXM7ZXx8dGhpcy5lbXB0eV9jZWxsc19wbGF5ZXJfb2NjdXBpZXMoKTt2YXIgcj1lP3tjb2w6dH06cy5jb2xsaWRlcnNfZGF0YVswXS5lbC5kYXRhLG89ci5jb2wsYT1pfHxyLnJvdzt0aGlzLnBsYXllcl9ncmlkX2RhdGE9e2NvbDpvLHJvdzphLHNpemVfeTp0aGlzLnBsYXllcl9ncmlkX2RhdGEuc2l6ZV95LHNpemVfeDp0aGlzLnBsYXllcl9ncmlkX2RhdGEuc2l6ZV94fSx0aGlzLmNlbGxzX29jY3VwaWVkX2J5X3BsYXllcj10aGlzLmdldF9jZWxsc19vY2N1cGllZCh0aGlzLnBsYXllcl9ncmlkX2RhdGEpO3ZhciBuPXRoaXMuZ2V0X3dpZGdldHNfb3ZlcmxhcHBlZCh0aGlzLnBsYXllcl9ncmlkX2RhdGEpLGg9dGhpcy53aWRnZXRzX2NvbnN0cmFpbnRzKG4pO2lmKHRoaXMubWFuYWdlX21vdmVtZW50cyhoLmNhbl9nb191cCxvLGEpLHRoaXMubWFuYWdlX21vdmVtZW50cyhoLmNhbl9ub3RfZ29fdXAsbyxhKSwhbi5sZW5ndGgpe3ZhciBfPXRoaXMuY2FuX2dvX3BsYXllcl91cCh0aGlzLnBsYXllcl9ncmlkX2RhdGEpO18hPT0hMSYmKGE9XyksdGhpcy5zZXRfcGxhY2Vob2xkZXIobyxhKX1yZXR1cm57Y29sOm8scm93OmF9fSxyLndpZGdldHNfY29uc3RyYWludHM9ZnVuY3Rpb24oaSl7dmFyIHMscj10KFtdKSxvPVtdLGE9W107cmV0dXJuIGkuZWFjaCh0LnByb3h5KGZ1bmN0aW9uKGksZSl7dmFyIHM9dChlKSxuPXMuY29vcmRzKCkuZ3JpZDt0aGlzLmNhbl9nb193aWRnZXRfdXAobik/KHI9ci5hZGQocyksby5wdXNoKG4pKTphLnB1c2gobil9LHRoaXMpKSxzPWkubm90KHIpLHtjYW5fZ29fdXA6ZS5zb3J0X2J5X3Jvd19hc2MobyksY2FuX25vdF9nb191cDplLnNvcnRfYnlfcm93X2Rlc2MoYSl9fSxyLm1hbmFnZV9tb3ZlbWVudHM9ZnVuY3Rpb24oaSxlLHMpe3JldHVybiB0LmVhY2goaSx0LnByb3h5KGZ1bmN0aW9uKHQsaSl7dmFyIHI9aSxvPXIuZWwsYT10aGlzLmNhbl9nb193aWRnZXRfdXAocik7aWYoYSl0aGlzLm1vdmVfd2lkZ2V0X3RvKG8sYSksdGhpcy5zZXRfcGxhY2Vob2xkZXIoZSxhK3Iuc2l6ZV95KTtlbHNle3ZhciBuPXRoaXMuY2FuX2dvX3BsYXllcl91cCh0aGlzLnBsYXllcl9ncmlkX2RhdGEpO2lmKCFuKXt2YXIgaD1zK3RoaXMucGxheWVyX2dyaWRfZGF0YS5zaXplX3ktci5yb3c7dGhpcy5tb3ZlX3dpZGdldF9kb3duKG8saCksdGhpcy5zZXRfcGxhY2Vob2xkZXIoZSxzKX19fSx0aGlzKSksdGhpc30sci5pc19wbGF5ZXI9ZnVuY3Rpb24odCxpKXtpZihpJiYhdGhpcy5ncmlkbWFwW3RdKXJldHVybiExO3ZhciBlPWk/dGhpcy5ncmlkbWFwW3RdW2ldOnQ7cmV0dXJuIGUmJihlLmlzKHRoaXMuJHBsYXllcil8fGUuaXModGhpcy4kaGVscGVyKSl9LHIuaXNfcGxheWVyX2luPWZ1bmN0aW9uKGksZSl7dmFyIHM9dGhpcy5jZWxsc19vY2N1cGllZF9ieV9wbGF5ZXJ8fHt9O3JldHVybiB0LmluQXJyYXkoaSxzLmNvbHMpPj0wJiZ0LmluQXJyYXkoZSxzLnJvd3MpPj0wfSxyLmlzX3BsYWNlaG9sZGVyX2luPWZ1bmN0aW9uKGksZSl7dmFyIHM9dGhpcy5jZWxsc19vY2N1cGllZF9ieV9wbGFjZWhvbGRlcnx8e307cmV0dXJuIHRoaXMuaXNfcGxhY2Vob2xkZXJfaW5fY29sKGkpJiZ0LmluQXJyYXkoZSxzLnJvd3MpPj0wfSxyLmlzX3BsYWNlaG9sZGVyX2luX2NvbD1mdW5jdGlvbihpKXt2YXIgZT10aGlzLmNlbGxzX29jY3VwaWVkX2J5X3BsYWNlaG9sZGVyfHxbXTtyZXR1cm4gdC5pbkFycmF5KGksZS5jb2xzKT49MH0sci5pc19lbXB0eT1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLmdyaWRtYXBbdF0hPT12b2lkIDA/dGhpcy5ncmlkbWFwW3RdW2ldIT09dm9pZCAwJiZ0aGlzLmdyaWRtYXBbdF1baV09PT0hMT8hMDohMTohMH0sci5pc19vY2N1cGllZD1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLmdyaWRtYXBbdF0/dGhpcy5ncmlkbWFwW3RdW2ldPyEwOiExOiExfSxyLmlzX3dpZGdldD1mdW5jdGlvbih0LGkpe3ZhciBlPXRoaXMuZ3JpZG1hcFt0XTtyZXR1cm4gZT8oZT1lW2ldLGU/ZTohMSk6ITF9LHIuaXNfd2lkZ2V0X3VuZGVyX3BsYXllcj1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLmlzX3dpZGdldCh0LGkpP3RoaXMuaXNfcGxheWVyX2luKHQsaSk6ITF9LHIuZ2V0X3dpZGdldHNfdW5kZXJfcGxheWVyPWZ1bmN0aW9uKGkpe2l8fChpPXRoaXMuY2VsbHNfb2NjdXBpZWRfYnlfcGxheWVyfHx7Y29sczpbXSxyb3dzOltdfSk7dmFyIGU9dChbXSk7cmV0dXJuIHQuZWFjaChpLmNvbHMsdC5wcm94eShmdW5jdGlvbihzLHIpe3QuZWFjaChpLnJvd3MsdC5wcm94eShmdW5jdGlvbih0LGkpe3RoaXMuaXNfd2lkZ2V0KHIsaSkmJihlPWUuYWRkKHRoaXMuZ3JpZG1hcFtyXVtpXSkpfSx0aGlzKSl9LHRoaXMpKSxlfSxyLnNldF9wbGFjZWhvbGRlcj1mdW5jdGlvbihpLGUpe3ZhciBzPXQuZXh0ZW5kKHt9LHRoaXMucGxhY2Vob2xkZXJfZ3JpZF9kYXRhKSxyPXRoaXMud2lkZ2V0c19iZWxvdyh7Y29sOnMuY29sLHJvdzpzLnJvdyxzaXplX3k6cy5zaXplX3ksc2l6ZV94OnMuc2l6ZV94fSksbz1pK3Muc2l6ZV94LTE7bz50aGlzLmNvbHMmJihpLT1vLWkpO3ZhciBhPWU+dGhpcy5wbGFjZWhvbGRlcl9ncmlkX2RhdGEucm93LG49dGhpcy5wbGFjZWhvbGRlcl9ncmlkX2RhdGEuY29sIT09aTt0aGlzLnBsYWNlaG9sZGVyX2dyaWRfZGF0YS5jb2w9aSx0aGlzLnBsYWNlaG9sZGVyX2dyaWRfZGF0YS5yb3c9ZSx0aGlzLmNlbGxzX29jY3VwaWVkX2J5X3BsYWNlaG9sZGVyPXRoaXMuZ2V0X2NlbGxzX29jY3VwaWVkKHRoaXMucGxhY2Vob2xkZXJfZ3JpZF9kYXRhKSx0aGlzLiRwcmV2aWV3X2hvbGRlci5hdHRyKHtcImRhdGEtcm93XCI6ZSxcImRhdGEtY29sXCI6aX0pLChhfHxuKSYmci5lYWNoKHQucHJveHkoZnVuY3Rpb24oZSxyKXt0aGlzLm1vdmVfd2lkZ2V0X3VwKHQociksdGhpcy5wbGFjZWhvbGRlcl9ncmlkX2RhdGEuY29sLWkrcy5zaXplX3kpfSx0aGlzKSk7dmFyIGg9dGhpcy5nZXRfd2lkZ2V0c191bmRlcl9wbGF5ZXIodGhpcy5jZWxsc19vY2N1cGllZF9ieV9wbGFjZWhvbGRlcik7aC5sZW5ndGgmJmguZWFjaCh0LnByb3h5KGZ1bmN0aW9uKGkscil7dmFyIG89dChyKTt0aGlzLm1vdmVfd2lkZ2V0X2Rvd24obyxlK3Muc2l6ZV95LW8uZGF0YShcImNvb3Jkc1wiKS5ncmlkLnJvdyl9LHRoaXMpKX0sci5jYW5fZ29fcGxheWVyX3VwPWZ1bmN0aW9uKHQpe3ZhciBpPXQucm93K3Quc2l6ZV95LTEsZT0hMCxzPVtdLHI9MWU0LG89dGhpcy5nZXRfd2lkZ2V0c191bmRlcl9wbGF5ZXIoKTtyZXR1cm4gdGhpcy5mb3JfZWFjaF9jb2x1bW5fb2NjdXBpZWQodCxmdW5jdGlvbih0KXt2YXIgYT10aGlzLmdyaWRtYXBbdF0sbj1pKzE7Zm9yKHNbdF09W107LS1uPjAmJih0aGlzLmlzX2VtcHR5KHQsbil8fHRoaXMuaXNfcGxheWVyKHQsbil8fHRoaXMuaXNfd2lkZ2V0KHQsbikmJmFbbl0uaXMobykpOylzW3RdLnB1c2gobikscj1yPm4/bjpyO3JldHVybiAwPT09c1t0XS5sZW5ndGg/KGU9ITEsITApOihzW3RdLnNvcnQoZnVuY3Rpb24odCxpKXtyZXR1cm4gdC1pXG59KSx2b2lkIDApfSksZT90aGlzLmdldF92YWxpZF9yb3dzKHQscyxyKTohMX0sci5jYW5fZ29fd2lkZ2V0X3VwPWZ1bmN0aW9uKHQpe3ZhciBpPXQucm93K3Quc2l6ZV95LTEsZT0hMCxzPVtdLHI9MWU0O3JldHVybiB0aGlzLmZvcl9lYWNoX2NvbHVtbl9vY2N1cGllZCh0LGZ1bmN0aW9uKG8pe3ZhciBhPXRoaXMuZ3JpZG1hcFtvXTtzW29dPVtdO2Zvcih2YXIgbj1pKzE7LS1uPjAmJighdGhpcy5pc193aWRnZXQobyxuKXx8dGhpcy5pc19wbGF5ZXJfaW4obyxuKXx8YVtuXS5pcyh0LmVsKSk7KXRoaXMuaXNfcGxheWVyKG8sbil8fHRoaXMuaXNfcGxhY2Vob2xkZXJfaW4obyxuKXx8dGhpcy5pc19wbGF5ZXJfaW4obyxuKXx8c1tvXS5wdXNoKG4pLHI+biYmKHI9bik7cmV0dXJuIDA9PT1zW29dLmxlbmd0aD8oZT0hMSwhMCk6KHNbb10uc29ydChmdW5jdGlvbih0LGkpe3JldHVybiB0LWl9KSx2b2lkIDApfSksZT90aGlzLmdldF92YWxpZF9yb3dzKHQscyxyKTohMX0sci5nZXRfdmFsaWRfcm93cz1mdW5jdGlvbihpLGUscyl7Zm9yKHZhciByPWkucm93LG89aS5yb3craS5zaXplX3ktMSxhPWkuc2l6ZV95LG49cy0xLGg9W107bz49KytuOyl7dmFyIF89ITA7aWYodC5lYWNoKGUsZnVuY3Rpb24oaSxlKXt0LmlzQXJyYXkoZSkmJi0xPT09dC5pbkFycmF5KG4sZSkmJihfPSExKX0pLF89PT0hMCYmKGgucHVzaChuKSxoLmxlbmd0aD09PWEpKWJyZWFrfXZhciBkPSExO3JldHVybiAxPT09YT9oWzBdIT09ciYmKGQ9aFswXXx8ITEpOmhbMF0hPT1yJiYoZD10aGlzLmdldF9jb25zZWN1dGl2ZV9udW1iZXJzX2luZGV4KGgsYSkpLGR9LHIuZ2V0X2NvbnNlY3V0aXZlX251bWJlcnNfaW5kZXg9ZnVuY3Rpb24odCxpKXtmb3IodmFyIGU9dC5sZW5ndGgscz1bXSxyPSEwLG89LTEsYT0wO2U+YTthKyspe2lmKHJ8fHRbYV09PT1vKzEpe2lmKHMucHVzaChhKSxzLmxlbmd0aD09PWkpYnJlYWs7cj0hMX1lbHNlIHM9W10scj0hMDtvPXRbYV19cmV0dXJuIHMubGVuZ3RoPj1pP3Rbc1swXV06ITF9LHIuZ2V0X3dpZGdldHNfb3ZlcmxhcHBlZD1mdW5jdGlvbigpe3ZhciBpPXQoW10pLGU9W10scz10aGlzLmNlbGxzX29jY3VwaWVkX2J5X3BsYXllci5yb3dzLnNsaWNlKDApO3JldHVybiBzLnJldmVyc2UoKSx0LmVhY2godGhpcy5jZWxsc19vY2N1cGllZF9ieV9wbGF5ZXIuY29scyx0LnByb3h5KGZ1bmN0aW9uKHIsbyl7dC5lYWNoKHMsdC5wcm94eShmdW5jdGlvbihzLHIpe2lmKCF0aGlzLmdyaWRtYXBbb10pcmV0dXJuITA7dmFyIGE9dGhpcy5ncmlkbWFwW29dW3JdO3RoaXMuaXNfb2NjdXBpZWQobyxyKSYmIXRoaXMuaXNfcGxheWVyKGEpJiYtMT09PXQuaW5BcnJheShhLGUpJiYoaT1pLmFkZChhKSxlLnB1c2goYSkpfSx0aGlzKSl9LHRoaXMpKSxpfSxyLm9uX3N0YXJ0X292ZXJsYXBwaW5nX2NvbHVtbj1mdW5jdGlvbih0KXt0aGlzLnNldF9wbGF5ZXIodCwhMSl9LHIub25fc3RhcnRfb3ZlcmxhcHBpbmdfcm93PWZ1bmN0aW9uKHQpe3RoaXMuc2V0X3BsYXllcighMSx0KX0sci5vbl9zdG9wX292ZXJsYXBwaW5nX2NvbHVtbj1mdW5jdGlvbih0KXt0aGlzLnNldF9wbGF5ZXIodCwhMSk7dmFyIGk9dGhpczt0aGlzLmZvcl9lYWNoX3dpZGdldF9iZWxvdyh0LHRoaXMuY2VsbHNfb2NjdXBpZWRfYnlfcGxheWVyLnJvd3NbMF0sZnVuY3Rpb24oKXtpLm1vdmVfd2lkZ2V0X3VwKHRoaXMsaS5wbGF5ZXJfZ3JpZF9kYXRhLnNpemVfeSl9KX0sci5vbl9zdG9wX292ZXJsYXBwaW5nX3Jvdz1mdW5jdGlvbih0KXt0aGlzLnNldF9wbGF5ZXIoITEsdCk7Zm9yKHZhciBpPXRoaXMsZT10aGlzLmNlbGxzX29jY3VwaWVkX2J5X3BsYXllci5jb2xzLHM9MCxyPWUubGVuZ3RoO3I+cztzKyspdGhpcy5mb3JfZWFjaF93aWRnZXRfYmVsb3coZVtzXSx0LGZ1bmN0aW9uKCl7aS5tb3ZlX3dpZGdldF91cCh0aGlzLGkucGxheWVyX2dyaWRfZGF0YS5zaXplX3kpfSl9LHIubW92ZV93aWRnZXRfdG89ZnVuY3Rpb24oaSxlKXt2YXIgcz10aGlzLHI9aS5jb29yZHMoKS5ncmlkO2Utci5yb3c7dmFyIG89dGhpcy53aWRnZXRzX2JlbG93KGkpLGE9dGhpcy5jYW5fbW92ZV90byhyLHIuY29sLGUsaSk7cmV0dXJuIGE9PT0hMT8hMToodGhpcy5yZW1vdmVfZnJvbV9ncmlkbWFwKHIpLHIucm93PWUsdGhpcy5hZGRfdG9fZ3JpZG1hcChyKSxpLmF0dHIoXCJkYXRhLXJvd1wiLGUpLHRoaXMuJGNoYW5nZWQ9dGhpcy4kY2hhbmdlZC5hZGQoaSksby5lYWNoKGZ1bmN0aW9uKGksZSl7dmFyIHI9dChlKSxvPXIuY29vcmRzKCkuZ3JpZCxhPXMuY2FuX2dvX3dpZGdldF91cChvKTthJiZhIT09by5yb3cmJnMubW92ZV93aWRnZXRfdG8ocixhKX0pLHRoaXMpfSxyLm1vdmVfd2lkZ2V0X3VwPWZ1bmN0aW9uKGksZSl7dmFyIHM9aS5jb29yZHMoKS5ncmlkLHI9cy5yb3csbz1bXTtyZXR1cm4gZXx8KGU9MSksdGhpcy5jYW5fZ29fdXAoaSk/KHRoaXMuZm9yX2VhY2hfY29sdW1uX29jY3VwaWVkKHMsZnVuY3Rpb24ocyl7aWYoLTE9PT10LmluQXJyYXkoaSxvKSl7dmFyIGE9aS5jb29yZHMoKS5ncmlkLG49ci1lO2lmKG49dGhpcy5jYW5fZ29fdXBfdG9fcm93KGEscyxuKSwhbilyZXR1cm4hMDt2YXIgaD10aGlzLndpZGdldHNfYmVsb3coaSk7dGhpcy5yZW1vdmVfZnJvbV9ncmlkbWFwKGEpLGEucm93PW4sdGhpcy5hZGRfdG9fZ3JpZG1hcChhKSxpLmF0dHIoXCJkYXRhLXJvd1wiLGEucm93KSx0aGlzLiRjaGFuZ2VkPXRoaXMuJGNoYW5nZWQuYWRkKGkpLG8ucHVzaChpKSxoLmVhY2godC5wcm94eShmdW5jdGlvbihpLHMpe3RoaXMubW92ZV93aWRnZXRfdXAodChzKSxlKX0sdGhpcykpfX0pLHZvaWQgMCk6ITF9LHIubW92ZV93aWRnZXRfZG93bj1mdW5jdGlvbihpLGUpe3ZhciBzLHIsbyxhO2lmKDA+PWUpcmV0dXJuITE7aWYocz1pLmNvb3JkcygpLmdyaWQscj1zLnJvdyxvPVtdLGE9ZSwhaSlyZXR1cm4hMTtpZigtMT09PXQuaW5BcnJheShpLG8pKXt2YXIgbj1pLmNvb3JkcygpLmdyaWQsaD1yK2UsXz10aGlzLndpZGdldHNfYmVsb3coaSk7dGhpcy5yZW1vdmVfZnJvbV9ncmlkbWFwKG4pLF8uZWFjaCh0LnByb3h5KGZ1bmN0aW9uKGksZSl7dmFyIHM9dChlKSxyPXMuY29vcmRzKCkuZ3JpZCxvPXRoaXMuZGlzcGxhY2VtZW50X2RpZmYocixuLGEpO28+MCYmdGhpcy5tb3ZlX3dpZGdldF9kb3duKHMsbyl9LHRoaXMpKSxuLnJvdz1oLHRoaXMudXBkYXRlX3dpZGdldF9wb3NpdGlvbihuLGkpLGkuYXR0cihcImRhdGEtcm93XCIsbi5yb3cpLHRoaXMuJGNoYW5nZWQ9dGhpcy4kY2hhbmdlZC5hZGQoaSksby5wdXNoKGkpfX0sci5jYW5fZ29fdXBfdG9fcm93PWZ1bmN0aW9uKGksZSxzKXt2YXIgcixvPXRoaXMuZ3JpZG1hcCxhPSEwLG49W10saD1pLnJvdztpZih0aGlzLmZvcl9lYWNoX2NvbHVtbl9vY2N1cGllZChpLGZ1bmN0aW9uKHQpe2ZvcihvW3RdLG5bdF09W10scj1oO3ItLSYmdGhpcy5pc19lbXB0eSh0LHIpJiYhdGhpcy5pc19wbGFjZWhvbGRlcl9pbih0LHIpOyluW3RdLnB1c2gocik7cmV0dXJuIG5bdF0ubGVuZ3RoP3ZvaWQgMDooYT0hMSwhMCl9KSwhYSlyZXR1cm4hMTtmb3Iocj1zLHI9MTtoPnI7cisrKXtmb3IodmFyIF89ITAsZD0wLGw9bi5sZW5ndGg7bD5kO2QrKyluW2RdJiYtMT09PXQuaW5BcnJheShyLG5bZF0pJiYoXz0hMSk7aWYoXz09PSEwKXthPXI7YnJlYWt9fXJldHVybiBhfSxyLmRpc3BsYWNlbWVudF9kaWZmPWZ1bmN0aW9uKHQsaSxlKXt2YXIgcz10LnJvdyxyPVtdLG89aS5yb3craS5zaXplX3k7dGhpcy5mb3JfZWFjaF9jb2x1bW5fb2NjdXBpZWQodCxmdW5jdGlvbih0KXtmb3IodmFyIGk9MCxlPW87cz5lO2UrKyl0aGlzLmlzX2VtcHR5KHQsZSkmJihpKz0xKTtyLnB1c2goaSl9KTt2YXIgYT1NYXRoLm1heC5hcHBseShNYXRoLHIpO3JldHVybiBlLT1hLGU+MD9lOjB9LHIud2lkZ2V0c19iZWxvdz1mdW5jdGlvbihpKXt2YXIgcz10LmlzUGxhaW5PYmplY3QoaSk/aTppLmNvb3JkcygpLmdyaWQscj10aGlzO3RoaXMuZ3JpZG1hcDt2YXIgbz1zLnJvdytzLnNpemVfeS0xLGE9dChbXSk7cmV0dXJuIHRoaXMuZm9yX2VhY2hfY29sdW1uX29jY3VwaWVkKHMsZnVuY3Rpb24oaSl7ci5mb3JfZWFjaF93aWRnZXRfYmVsb3coaSxvLGZ1bmN0aW9uKCl7cmV0dXJuIHIuaXNfcGxheWVyKHRoaXMpfHwtMSE9PXQuaW5BcnJheSh0aGlzLGEpP3ZvaWQgMDooYT1hLmFkZCh0aGlzKSwhMCl9KX0pLGUuc29ydF9ieV9yb3dfYXNjKGEpfSxyLnNldF9jZWxsc19wbGF5ZXJfb2NjdXBpZXM9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5yZW1vdmVfZnJvbV9ncmlkbWFwKHRoaXMucGxhY2Vob2xkZXJfZ3JpZF9kYXRhKSx0aGlzLnBsYWNlaG9sZGVyX2dyaWRfZGF0YS5jb2w9dCx0aGlzLnBsYWNlaG9sZGVyX2dyaWRfZGF0YS5yb3c9aSx0aGlzLmFkZF90b19ncmlkbWFwKHRoaXMucGxhY2Vob2xkZXJfZ3JpZF9kYXRhLHRoaXMuJHBsYXllciksdGhpc30sci5lbXB0eV9jZWxsc19wbGF5ZXJfb2NjdXBpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW1vdmVfZnJvbV9ncmlkbWFwKHRoaXMucGxhY2Vob2xkZXJfZ3JpZF9kYXRhKSx0aGlzfSxyLmNhbl9nb191cD1mdW5jdGlvbih0KXt2YXIgaT10LmNvb3JkcygpLmdyaWQsZT1pLnJvdyxzPWUtMTt0aGlzLmdyaWRtYXA7dmFyIHI9ITA7cmV0dXJuIDE9PT1lPyExOih0aGlzLmZvcl9lYWNoX2NvbHVtbl9vY2N1cGllZChpLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzX3dpZGdldCh0LHMpLHRoaXMuaXNfb2NjdXBpZWQodCxzKXx8dGhpcy5pc19wbGF5ZXIodCxzKXx8dGhpcy5pc19wbGFjZWhvbGRlcl9pbih0LHMpfHx0aGlzLmlzX3BsYXllcl9pbih0LHMpPyhyPSExLCEwKTp2b2lkIDB9KSxyKX0sci5jYW5fbW92ZV90bz1mdW5jdGlvbih0LGksZSxzKXt0aGlzLmdyaWRtYXA7dmFyIHI9dC5lbCxvPXtzaXplX3k6dC5zaXplX3ksc2l6ZV94OnQuc2l6ZV94LGNvbDppLHJvdzplfSxhPSEwLG49aSt0LnNpemVfeC0xO3JldHVybiBuPnRoaXMuY29scz8hMTpzJiZlK3Quc2l6ZV95LTE+cz8hMToodGhpcy5mb3JfZWFjaF9jZWxsX29jY3VwaWVkKG8sZnVuY3Rpb24oaSxlKXt2YXIgcz10aGlzLmlzX3dpZGdldChpLGUpOyFzfHx0LmVsJiYhcy5pcyhyKXx8KGE9ITEpfSksYSl9LHIuZ2V0X3RhcmdldGVkX2NvbHVtbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPSh0fHx0aGlzLnBsYXllcl9ncmlkX2RhdGEuY29sKSsodGhpcy5wbGF5ZXJfZ3JpZF9kYXRhLnNpemVfeC0xKSxlPVtdLHM9dDtpPj1zO3MrKyllLnB1c2gocyk7cmV0dXJuIGV9LHIuZ2V0X3RhcmdldGVkX3Jvd3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPSh0fHx0aGlzLnBsYXllcl9ncmlkX2RhdGEucm93KSsodGhpcy5wbGF5ZXJfZ3JpZF9kYXRhLnNpemVfeS0xKSxlPVtdLHM9dDtpPj1zO3MrKyllLnB1c2gocyk7cmV0dXJuIGV9LHIuZ2V0X2NlbGxzX29jY3VwaWVkPWZ1bmN0aW9uKGkpe3ZhciBlLHM9e2NvbHM6W10scm93czpbXX07Zm9yKGFyZ3VtZW50c1sxXWluc3RhbmNlb2YgdCYmKGk9YXJndW1lbnRzWzFdLmNvb3JkcygpLmdyaWQpLGU9MDtpLnNpemVfeD5lO2UrKyl7dmFyIHI9aS5jb2wrZTtzLmNvbHMucHVzaChyKX1mb3IoZT0wO2kuc2l6ZV95PmU7ZSsrKXt2YXIgbz1pLnJvdytlO3Mucm93cy5wdXNoKG8pfXJldHVybiBzfSxyLmZvcl9lYWNoX2NlbGxfb2NjdXBpZWQ9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5mb3JfZWFjaF9jb2x1bW5fb2NjdXBpZWQodCxmdW5jdGlvbihlKXt0aGlzLmZvcl9lYWNoX3Jvd19vY2N1cGllZCh0LGZ1bmN0aW9uKHQpe2kuY2FsbCh0aGlzLGUsdCl9KX0pLHRoaXN9LHIuZm9yX2VhY2hfY29sdW1uX29jY3VwaWVkPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPTA7dC5zaXplX3g+ZTtlKyspe3ZhciBzPXQuY29sK2U7aS5jYWxsKHRoaXMscyx0KX19LHIuZm9yX2VhY2hfcm93X29jY3VwaWVkPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPTA7dC5zaXplX3k+ZTtlKyspe3ZhciBzPXQucm93K2U7aS5jYWxsKHRoaXMscyx0KX19LHIuX3RyYXZlcnNpbmdfd2lkZ2V0cz1mdW5jdGlvbihpLGUscyxyLG8pe3ZhciBhPXRoaXMuZ3JpZG1hcDtpZihhW3NdKXt2YXIgbixoLF89aStcIi9cIitlO2lmKGFyZ3VtZW50c1syXWluc3RhbmNlb2YgdCl7dmFyIGQ9YXJndW1lbnRzWzJdLmNvb3JkcygpLmdyaWQ7cz1kLmNvbCxyPWQucm93LG89YXJndW1lbnRzWzNdfXZhciBsPVtdLGM9cixwPXtcImZvcl9lYWNoL2Fib3ZlXCI6ZnVuY3Rpb24oKXtmb3IoO2MtLSYmIShjPjAmJnRoaXMuaXNfd2lkZ2V0KHMsYykmJi0xPT09dC5pbkFycmF5KGFbc11bY10sbCkmJihuPW8uY2FsbChhW3NdW2NdLHMsYyksbC5wdXNoKGFbc11bY10pLG4pKTspO30sXCJmb3JfZWFjaC9iZWxvd1wiOmZ1bmN0aW9uKCl7Zm9yKGM9cisxLGg9YVtzXS5sZW5ndGg7aD5jJiYoIXRoaXMuaXNfd2lkZ2V0KHMsYyl8fC0xIT09dC5pbkFycmF5KGFbc11bY10sbCl8fChuPW8uY2FsbChhW3NdW2NdLHMsYyksbC5wdXNoKGFbc11bY10pLCFuKSk7YysrKTt9fTtwW19dJiZwW19dLmNhbGwodGhpcyl9fSxyLmZvcl9lYWNoX3dpZGdldF9hYm92ZT1mdW5jdGlvbih0LGksZSl7cmV0dXJuIHRoaXMuX3RyYXZlcnNpbmdfd2lkZ2V0cyhcImZvcl9lYWNoXCIsXCJhYm92ZVwiLHQsaSxlKSx0aGlzfSxyLmZvcl9lYWNoX3dpZGdldF9iZWxvdz1mdW5jdGlvbih0LGksZSl7cmV0dXJuIHRoaXMuX3RyYXZlcnNpbmdfd2lkZ2V0cyhcImZvcl9lYWNoXCIsXCJiZWxvd1wiLHQsaSxlKSx0aGlzfSxyLmdldF9oaWdoZXN0X29jY3VwaWVkX2NlbGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQsaT10aGlzLmdyaWRtYXAsZT1pWzFdLmxlbmd0aCxzPVtdLHI9W10sbz1pLmxlbmd0aC0xO28+PTE7by0tKWZvcih0PWUtMTt0Pj0xO3QtLSlpZih0aGlzLmlzX3dpZGdldChvLHQpKXtzLnB1c2godCksci5wdXNoKG8pO2JyZWFrfXJldHVybntjb2w6TWF0aC5tYXguYXBwbHkoTWF0aCxyKSxyb3c6TWF0aC5tYXguYXBwbHkoTWF0aCxzKX19LHIuZ2V0X3dpZGdldHNfZnJvbT1mdW5jdGlvbihpLGUpe3RoaXMuZ3JpZG1hcDt2YXIgcz10KCk7cmV0dXJuIGkmJihzPXMuYWRkKHRoaXMuJHdpZGdldHMuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKS5hdHRyKFwiZGF0YS1jb2xcIik7cmV0dXJuIGU9PT1pfHxlPml9KSkpLGUmJihzPXMuYWRkKHRoaXMuJHdpZGdldHMuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKS5hdHRyKFwiZGF0YS1yb3dcIik7cmV0dXJuIGk9PT1lfHxpPmV9KSkpLHN9LHIuc2V0X2RvbV9ncmlkX2hlaWdodD1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwKXt2YXIgaT10aGlzLmdldF9oaWdoZXN0X29jY3VwaWVkX2NlbGwoKS5yb3c7dD1pKnRoaXMubWluX3dpZGdldF9oZWlnaHR9cmV0dXJuIHRoaXMuY29udGFpbmVyX2hlaWdodD10LHRoaXMuJGVsLmNzcyhcImhlaWdodFwiLHRoaXMuY29udGFpbmVyX2hlaWdodCksdGhpc30sci5zZXRfZG9tX2dyaWRfd2lkdGg9ZnVuY3Rpb24odCl7dD09PXZvaWQgMCYmKHQ9dGhpcy5nZXRfaGlnaGVzdF9vY2N1cGllZF9jZWxsKCkuY29sKTt2YXIgaT10aGlzLm9wdGlvbnMuYXV0b2dyb3dfY29scz90aGlzLm9wdGlvbnMubWF4X2NvbHM6dGhpcy5jb2xzO3JldHVybiB0PU1hdGgubWluKGksTWF0aC5tYXgodCx0aGlzLm9wdGlvbnMubWluX2NvbHMpKSx0aGlzLmNvbnRhaW5lcl93aWR0aD10KnRoaXMubWluX3dpZGdldF93aWR0aCx0aGlzLiRlbC5jc3MoXCJ3aWR0aFwiLHRoaXMuY29udGFpbmVyX3dpZHRoKSx0aGlzfSxyLmdlbmVyYXRlX3N0eWxlc2hlZXQ9ZnVuY3Rpb24oaSl7dmFyIHMscj1cIlwiLG89dGhpcy5vcHRpb25zLm1heF9zaXplX3h8fHRoaXMuY29scztpfHwoaT17fSksaS5jb2xzfHwoaS5jb2xzPXRoaXMuY29scyksaS5yb3dzfHwoaS5yb3dzPXRoaXMucm93cyksaS5uYW1lc3BhY2V8fChpLm5hbWVzcGFjZT10aGlzLm9wdGlvbnMubmFtZXNwYWNlKSxpLndpZGdldF9iYXNlX2RpbWVuc2lvbnN8fChpLndpZGdldF9iYXNlX2RpbWVuc2lvbnM9dGhpcy5vcHRpb25zLndpZGdldF9iYXNlX2RpbWVuc2lvbnMpLGkud2lkZ2V0X21hcmdpbnN8fChpLndpZGdldF9tYXJnaW5zPXRoaXMub3B0aW9ucy53aWRnZXRfbWFyZ2lucyksaS5taW5fd2lkZ2V0X3dpZHRoPTIqaS53aWRnZXRfbWFyZ2luc1swXStpLndpZGdldF9iYXNlX2RpbWVuc2lvbnNbMF0saS5taW5fd2lkZ2V0X2hlaWdodD0yKmkud2lkZ2V0X21hcmdpbnNbMV0raS53aWRnZXRfYmFzZV9kaW1lbnNpb25zWzFdO3ZhciBhPXQucGFyYW0oaSk7aWYodC5pbkFycmF5KGEsZS5nZW5lcmF0ZWRfc3R5bGVzaGVldHMpPj0wKXJldHVybiExO2Zvcih0aGlzLmdlbmVyYXRlZF9zdHlsZXNoZWV0cy5wdXNoKGEpLGUuZ2VuZXJhdGVkX3N0eWxlc2hlZXRzLnB1c2goYSkscz1pLmNvbHM7cz49MDtzLS0pcis9aS5uYW1lc3BhY2UrJyBbZGF0YS1jb2w9XCInKyhzKzEpKydcIl0geyBsZWZ0OicrKHMqaS53aWRnZXRfYmFzZV9kaW1lbnNpb25zWzBdK3MqaS53aWRnZXRfbWFyZ2luc1swXSsocysxKSppLndpZGdldF9tYXJnaW5zWzBdKStcInB4OyB9XFxuXCI7Zm9yKHM9aS5yb3dzO3M+PTA7cy0tKXIrPWkubmFtZXNwYWNlKycgW2RhdGEtcm93PVwiJysocysxKSsnXCJdIHsgdG9wOicrKHMqaS53aWRnZXRfYmFzZV9kaW1lbnNpb25zWzFdK3MqaS53aWRnZXRfbWFyZ2luc1sxXSsocysxKSppLndpZGdldF9tYXJnaW5zWzFdKStcInB4OyB9XFxuXCI7Zm9yKHZhciBuPTE7aS5yb3dzPj1uO24rKylyKz1pLm5hbWVzcGFjZSsnIFtkYXRhLXNpemV5PVwiJytuKydcIl0geyBoZWlnaHQ6JysobippLndpZGdldF9iYXNlX2RpbWVuc2lvbnNbMV0rKG4tMSkqMippLndpZGdldF9tYXJnaW5zWzFdKStcInB4OyB9XFxuXCI7Zm9yKHZhciBoPTE7bz49aDtoKyspcis9aS5uYW1lc3BhY2UrJyBbZGF0YS1zaXpleD1cIicraCsnXCJdIHsgd2lkdGg6JysoaCppLndpZGdldF9iYXNlX2RpbWVuc2lvbnNbMF0rKGgtMSkqMippLndpZGdldF9tYXJnaW5zWzBdKStcInB4OyB9XFxuXCI7cmV0dXJuIHRoaXMucmVtb3ZlX3N0eWxlX3RhZ3MoKSx0aGlzLmFkZF9zdHlsZV90YWcocil9LHIuYWRkX3N0eWxlX3RhZz1mdW5jdGlvbih0KXt2YXIgaT1kb2N1bWVudCxlPWkuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiBpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChlKSxlLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInRleHQvY3NzXCIpLGUuc3R5bGVTaGVldD9lLnN0eWxlU2hlZXQuY3NzVGV4dD10OmUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpLHRoaXMuJHN0eWxlX3RhZ3M9dGhpcy4kc3R5bGVfdGFncy5hZGQoZSksdGhpc30sci5yZW1vdmVfc3R5bGVfdGFncz1mdW5jdGlvbigpe3ZhciBpPWUuZ2VuZXJhdGVkX3N0eWxlc2hlZXRzLHM9dGhpcy5nZW5lcmF0ZWRfc3R5bGVzaGVldHM7dGhpcy4kc3R5bGVfdGFncy5yZW1vdmUoKSxlLmdlbmVyYXRlZF9zdHlsZXNoZWV0cz10Lm1hcChpLGZ1bmN0aW9uKGkpe3JldHVybi0xPT09dC5pbkFycmF5KGkscyk/aTp2b2lkIDB9KX0sci5nZW5lcmF0ZV9mYXV4X2dyaWQ9ZnVuY3Rpb24odCxpKXt0aGlzLmZhdXhfZ3JpZD1bXSx0aGlzLmdyaWRtYXA9W107dmFyIGUscztmb3IoZT1pO2U+MDtlLS0pZm9yKHRoaXMuZ3JpZG1hcFtlXT1bXSxzPXQ7cz4wO3MtLSl0aGlzLmFkZF9mYXV4X2NlbGwocyxlKTtyZXR1cm4gdGhpc30sci5hZGRfZmF1eF9jZWxsPWZ1bmN0aW9uKGksZSl7dmFyIHM9dCh7bGVmdDp0aGlzLmJhc2VYKyhlLTEpKnRoaXMubWluX3dpZGdldF93aWR0aCx0b3A6dGhpcy5iYXNlWSsoaS0xKSp0aGlzLm1pbl93aWRnZXRfaGVpZ2h0LHdpZHRoOnRoaXMubWluX3dpZGdldF93aWR0aCxoZWlnaHQ6dGhpcy5taW5fd2lkZ2V0X2hlaWdodCxjb2w6ZSxyb3c6aSxvcmlnaW5hbF9jb2w6ZSxvcmlnaW5hbF9yb3c6aX0pLmNvb3JkcygpO3JldHVybiB0LmlzQXJyYXkodGhpcy5ncmlkbWFwW2VdKXx8KHRoaXMuZ3JpZG1hcFtlXT1bXSksdGhpcy5ncmlkbWFwW2VdW2ldPSExLHRoaXMuZmF1eF9ncmlkLnB1c2gocyksdGhpc30sci5hZGRfZmF1eF9yb3dzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10aGlzLnJvd3MsZT1pKyh0fHwxKSxzPWU7cz5pO3MtLSlmb3IodmFyIHI9dGhpcy5jb2xzO3I+PTE7ci0tKXRoaXMuYWRkX2ZhdXhfY2VsbChzLHIpO3JldHVybiB0aGlzLnJvd3M9ZSx0aGlzLm9wdGlvbnMuYXV0b2dlbmVyYXRlX3N0eWxlc2hlZXQmJnRoaXMuZ2VuZXJhdGVfc3R5bGVzaGVldCgpLHRoaXN9LHIuYWRkX2ZhdXhfY29scz1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmNvbHMsZT1pKyh0fHwxKTtlPU1hdGgubWluKGUsdGhpcy5vcHRpb25zLm1heF9jb2xzKTtmb3IodmFyIHM9aSsxO2U+PXM7cysrKWZvcih2YXIgcj10aGlzLnJvd3M7cj49MTtyLS0pdGhpcy5hZGRfZmF1eF9jZWxsKHIscyk7cmV0dXJuIHRoaXMuY29scz1lLHRoaXMub3B0aW9ucy5hdXRvZ2VuZXJhdGVfc3R5bGVzaGVldCYmdGhpcy5nZW5lcmF0ZV9zdHlsZXNoZWV0KCksdGhpc30sci5yZWNhbGN1bGF0ZV9mYXV4X2dyaWQ9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLiR3cmFwcGVyLndpZHRoKCk7cmV0dXJuIHRoaXMuYmFzZVg9KHQod2luZG93KS53aWR0aCgpLWkpLzIsdGhpcy5iYXNlWT10aGlzLiR3cmFwcGVyLm9mZnNldCgpLnRvcCx0LmVhY2godGhpcy5mYXV4X2dyaWQsdC5wcm94eShmdW5jdGlvbih0LGkpe3RoaXMuZmF1eF9ncmlkW3RdPWkudXBkYXRlKHtsZWZ0OnRoaXMuYmFzZVgrKGkuZGF0YS5jb2wtMSkqdGhpcy5taW5fd2lkZ2V0X3dpZHRoLHRvcDp0aGlzLmJhc2VZKyhpLmRhdGEucm93LTEpKnRoaXMubWluX3dpZGdldF9oZWlnaHR9KX0sdGhpcykpLHRoaXN9LHIuZ2V0X3dpZGdldHNfZnJvbV9ET009ZnVuY3Rpb24oKXt2YXIgaT10aGlzLiR3aWRnZXRzLm1hcCh0LnByb3h5KGZ1bmN0aW9uKGksZSl7dmFyIHM9dChlKTtyZXR1cm4gdGhpcy5kb21fdG9fY29vcmRzKHMpfSx0aGlzKSk7aT1lLnNvcnRfYnlfcm93X2FuZF9jb2xfYXNjKGkpO3ZhciBzPXQoaSkubWFwKHQucHJveHkoZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5yZWdpc3Rlcl93aWRnZXQoaSl8fG51bGx9LHRoaXMpKTtyZXR1cm4gcy5sZW5ndGgmJnRoaXMuJGVsLnRyaWdnZXIoXCJncmlkc3Rlcjpwb3NpdGlvbnNjaGFuZ2VkXCIpLHRoaXN9LHIuZ2VuZXJhdGVfZ3JpZF9hbmRfc3R5bGVzaGVldD1mdW5jdGlvbigpe3ZhciBpPXRoaXMuJHdyYXBwZXIud2lkdGgoKSxlPXRoaXMub3B0aW9ucy5tYXhfY29scyxzPU1hdGguZmxvb3IoaS90aGlzLm1pbl93aWRnZXRfd2lkdGgpK3RoaXMub3B0aW9ucy5leHRyYV9jb2xzLHI9dGhpcy4kd2lkZ2V0cy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzKS5hdHRyKFwiZGF0YS1jb2xcIil9KS5nZXQoKTtyLmxlbmd0aHx8KHI9WzBdKTt2YXIgbz1NYXRoLm1heC5hcHBseShNYXRoLHIpO3RoaXMuY29scz1NYXRoLm1heChvLHMsdGhpcy5vcHRpb25zLm1pbl9jb2xzKSwxLzAhPT1lJiZlPj1vJiZ0aGlzLmNvbHM+ZSYmKHRoaXMuY29scz1lKTt2YXIgYT10aGlzLm9wdGlvbnMuZXh0cmFfcm93cztyZXR1cm4gdGhpcy4kd2lkZ2V0cy5lYWNoKGZ1bmN0aW9uKGksZSl7YSs9K3QoZSkuYXR0cihcImRhdGEtc2l6ZXlcIil9KSx0aGlzLnJvd3M9TWF0aC5tYXgoYSx0aGlzLm9wdGlvbnMubWluX3Jvd3MpLHRoaXMuYmFzZVg9KHQod2luZG93KS53aWR0aCgpLWkpLzIsdGhpcy5iYXNlWT10aGlzLiR3cmFwcGVyLm9mZnNldCgpLnRvcCx0aGlzLm9wdGlvbnMuYXV0b2dlbmVyYXRlX3N0eWxlc2hlZXQmJnRoaXMuZ2VuZXJhdGVfc3R5bGVzaGVldCgpLHRoaXMuZ2VuZXJhdGVfZmF1eF9ncmlkKHRoaXMucm93cyx0aGlzLmNvbHMpfSxyLmRlc3Ryb3k9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuJGVsLnJlbW92ZURhdGEoXCJncmlkc3RlclwiKSx0KHdpbmRvdykudW5iaW5kKFwiLmdyaWRzdGVyXCIpLHRoaXMuZHJhZ19hcGkmJnRoaXMuZHJhZ19hcGkuZGVzdHJveSgpLHRoaXMucmVtb3ZlX3N0eWxlX3RhZ3MoKSxpJiZ0aGlzLiRlbC5yZW1vdmUoKSx0aGlzfSx0LmZuLmdyaWRzdGVyPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0KHRoaXMpLmRhdGEoXCJncmlkc3RlclwiKXx8dCh0aGlzKS5kYXRhKFwiZ3JpZHN0ZXJcIixuZXcgZSh0aGlzLGkpKX0pfSxlfSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///cc37\n')}}]);