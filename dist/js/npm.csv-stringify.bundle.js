(window.webpackJsonp=window.webpackJsonp||[]).push([["npm.csv-stringify"],{a7d1:function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.12.7\nvar Stringifier, get, stream, util;\n\nstream = __webpack_require__(/*! stream */ \"92a1\");\n\nutil = __webpack_require__(/*! util */ \"f895\");\n\nget = __webpack_require__(/*! lodash.get */ \"6f04\");\n\nmodule.exports = function() {\n  var callback, chunks, data, options, stringifier;\n  if (arguments.length === 3) {\n    data = arguments[0];\n    options = arguments[1];\n    callback = arguments[2];\n  } else if (arguments.length === 2) {\n    if (Array.isArray(arguments[0])) {\n      data = arguments[0];\n    } else {\n      options = arguments[0];\n    }\n    if (typeof arguments[1] === 'function') {\n      callback = arguments[1];\n    } else {\n      options = arguments[1];\n    }\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      callback = arguments[0];\n    } else if (Array.isArray(arguments[0])) {\n      data = arguments[0];\n    } else {\n      options = arguments[0];\n    }\n  }\n  if (options == null) {\n    options = {};\n  }\n  stringifier = new Stringifier(options);\n  if (data) {\n    process.nextTick(function() {\n      var d, j, len;\n      for (j = 0, len = data.length; j < len; j++) {\n        d = data[j];\n        stringifier.write(d);\n      }\n      return stringifier.end();\n    });\n  }\n  if (callback) {\n    chunks = [];\n    stringifier.on('readable', function() {\n      var chunk, results;\n      results = [];\n      while (chunk = stringifier.read()) {\n        results.push(chunks.push(chunk));\n      }\n      return results;\n    });\n    stringifier.on('error', function(err) {\n      return callback(err);\n    });\n    stringifier.on('end', function() {\n      return callback(null, chunks.join(''));\n    });\n  }\n  return stringifier;\n};\n\nStringifier = function(opts) {\n  var base, base1, base10, base11, base12, base13, base2, base3, base4, base5, base6, base7, base8, base9, k, options, v;\n  if (opts == null) {\n    opts = {};\n  }\n  options = {};\n  for (k in opts) {\n    v = opts[k];\n    options[k] = v;\n  }\n  stream.Transform.call(this, options);\n  this.options = options;\n  if ((base = this.options).delimiter == null) {\n    base.delimiter = ',';\n  }\n  if ((base1 = this.options).quote == null) {\n    base1.quote = '\"';\n  }\n  if ((base2 = this.options).quoted == null) {\n    base2.quoted = false;\n  }\n  if ((base3 = this.options).quotedEmpty == null) {\n    base3.quotedEmpty = void 0;\n  }\n  if ((base4 = this.options).quotedString == null) {\n    base4.quotedString = false;\n  }\n  if ((base5 = this.options).eof == null) {\n    base5.eof = true;\n  }\n  if ((base6 = this.options).escape == null) {\n    base6.escape = '\"';\n  }\n  if ((base7 = this.options).columns == null) {\n    base7.columns = null;\n  }\n  if ((base8 = this.options).header == null) {\n    base8.header = false;\n  }\n  if ((base9 = this.options).formatters == null) {\n    base9.formatters = {};\n  }\n  if ((base10 = this.options.formatters).date == null) {\n    base10.date = function(value) {\n      return '' + value.getTime();\n    };\n  }\n  if ((base11 = this.options.formatters).bool == null) {\n    base11.bool = function(value) {\n      if (value) {\n        return '1';\n      } else {\n        return '';\n      }\n    };\n  }\n  if ((base12 = this.options.formatters).object == null) {\n    base12.object = function(value) {\n      return JSON.stringify(value);\n    };\n  }\n  if ((base13 = this.options).rowDelimiter == null) {\n    base13.rowDelimiter = '\\n';\n  }\n  if (this.countWriten == null) {\n    this.countWriten = 0;\n  }\n  switch (this.options.rowDelimiter) {\n    case 'auto':\n      this.options.rowDelimiter = null;\n      break;\n    case 'unix':\n      this.options.rowDelimiter = \"\\n\";\n      break;\n    case 'mac':\n      this.options.rowDelimiter = \"\\r\";\n      break;\n    case 'windows':\n      this.options.rowDelimiter = \"\\r\\n\";\n      break;\n    case 'unicode':\n      this.options.rowDelimiter = \"\\u2028\";\n  }\n  return this;\n};\n\nutil.inherits(Stringifier, stream.Transform);\n\nmodule.exports.Stringifier = Stringifier;\n\nStringifier.prototype.headers = function() {\n  var k, label, labels;\n  if (!this.options.header) {\n    return;\n  }\n  if (!this.options.columns) {\n    return;\n  }\n  labels = this.options.columns;\n  if (typeof labels === 'object') {\n    labels = (function() {\n      var results;\n      results = [];\n      for (k in labels) {\n        label = labels[k];\n        results.push(label);\n      }\n      return results;\n    })();\n  }\n  if (this.options.eof) {\n    labels = this.stringify(labels) + this.options.rowDelimiter;\n  } else {\n    labels = this.stringify(labels);\n  }\n  return stream.Transform.prototype.write.call(this, labels);\n};\n\nStringifier.prototype.end = function(chunk, encoding, callback) {\n  if (this.countWriten === 0) {\n    this.headers();\n  }\n  return stream.Transform.prototype.end.apply(this, arguments);\n};\n\nStringifier.prototype.write = function(chunk, encoding, callback) {\n  var base, e, preserve;\n  if (chunk == null) {\n    return;\n  }\n  preserve = typeof chunk !== 'object';\n  if (!preserve) {\n    if (this.countWriten === 0 && !Array.isArray(chunk)) {\n      if ((base = this.options).columns == null) {\n        base.columns = Object.keys(chunk);\n      }\n    }\n    try {\n      this.emit('record', chunk, this.countWriten);\n    } catch (error) {\n      e = error;\n      return this.emit('error', e);\n    }\n    if (this.options.eof) {\n      chunk = this.stringify(chunk) + this.options.rowDelimiter;\n    } else {\n      chunk = this.stringify(chunk);\n      if (this.options.header || this.countWriten) {\n        chunk = this.options.rowDelimiter + chunk;\n      }\n    }\n  }\n  if (typeof chunk === 'number') {\n    chunk = \"\" + chunk;\n  }\n  if (this.countWriten === 0) {\n    this.headers();\n  }\n  if (!preserve) {\n    this.countWriten++;\n  }\n  return stream.Transform.prototype.write.call(this, chunk, encoding, callback);\n};\n\nStringifier.prototype._transform = function(chunk, encoding, callback) {\n  this.push(chunk);\n  return callback();\n};\n\nStringifier.prototype.stringify = function(line) {\n  var _line, column, columns, containsEscape, containsLinebreak, containsQuote, containsdelimiter, delimiter, escape, field, i, j, l, newLine, quote, ref, ref1, regexp, shouldQuote, value;\n  if (typeof line !== 'object') {\n    return line;\n  }\n  columns = this.options.columns;\n  if (typeof columns === 'object' && columns !== null && !Array.isArray(columns)) {\n    columns = Object.keys(columns);\n  }\n  delimiter = this.options.delimiter;\n  quote = this.options.quote;\n  escape = this.options.escape;\n  if (!Array.isArray(line)) {\n    _line = [];\n    if (columns) {\n      for (i = j = 0, ref = columns.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n        column = columns[i];\n        value = get(line, column);\n        _line[i] = (typeof value === 'undefined' || value === null) ? '' : value;\n      }\n    } else {\n      for (column in line) {\n        _line.push(line[column]);\n      }\n    }\n    line = _line;\n    _line = null;\n  } else if (columns) {\n    line.splice(columns.length);\n  }\n  if (Array.isArray(line)) {\n    newLine = '';\n    for (i = l = 0, ref1 = line.length; 0 <= ref1 ? l < ref1 : l > ref1; i = 0 <= ref1 ? ++l : --l) {\n      field = line[i];\n      if (typeof field === 'string') {\n\n      } else if (typeof field === 'number') {\n        field = '' + field;\n      } else if (typeof field === 'boolean') {\n        field = this.options.formatters.bool(field);\n      } else if (field instanceof Date) {\n        field = this.options.formatters.date(field);\n      } else if (typeof field === 'object' && field !== null) {\n        field = this.options.formatters.object(field);\n      }\n      if (field) {\n        containsdelimiter = field.indexOf(delimiter) >= 0;\n        containsQuote = field.indexOf(quote) >= 0;\n        containsEscape = field.indexOf(escape) >= 0 && (escape !== quote);\n        containsLinebreak = field.indexOf('\\r') >= 0 || field.indexOf('\\n') >= 0;\n        shouldQuote = containsQuote || containsdelimiter || containsLinebreak || this.options.quoted || (this.options.quotedString && typeof line[i] === 'string');\n        if (shouldQuote && containsEscape) {\n          regexp = escape === '\\\\' ? new RegExp(escape + escape, 'g') : new RegExp(escape, 'g');\n          field = field.replace(regexp, escape + escape);\n        }\n        if (containsQuote) {\n          regexp = new RegExp(quote, 'g');\n          field = field.replace(regexp, escape + quote);\n        }\n        if (shouldQuote) {\n          field = quote + field + quote;\n        }\n        newLine += field;\n      } else if (this.options.quotedEmpty || ((this.options.quotedEmpty == null) && line[i] === '' && this.options.quotedString)) {\n        newLine += quote + quote;\n      }\n      if (i !== line.length - 1) {\n        newLine += delimiter;\n      }\n    }\n    line = newLine;\n  }\n  return line;\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"26d5\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYTdkMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3Ytc3RyaW5naWZ5L2xpYi9pbmRleC5qcz81MjY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG52YXIgU3RyaW5naWZpZXIsIGdldCwgc3RyZWFtLCB1dGlsO1xuXG5zdHJlYW0gPSByZXF1aXJlKCdzdHJlYW0nKTtcblxudXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY2FsbGJhY2ssIGNodW5rcywgZGF0YSwgb3B0aW9ucywgc3RyaW5naWZpZXI7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7XG4gICAgZGF0YSA9IGFyZ3VtZW50c1swXTtcbiAgICBvcHRpb25zID0gYXJndW1lbnRzWzFdO1xuICAgIGNhbGxiYWNrID0gYXJndW1lbnRzWzJdO1xuICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKSB7XG4gICAgICBkYXRhID0gYXJndW1lbnRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0gYXJndW1lbnRzWzBdO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbMV07XG4gICAgfVxuICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbMF07XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgIGRhdGEgPSBhcmd1bWVudHNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbMF07XG4gICAgfVxuICB9XG4gIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgc3RyaW5naWZpZXIgPSBuZXcgU3RyaW5naWZpZXIob3B0aW9ucyk7XG4gIGlmIChkYXRhKSB7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkLCBqLCBsZW47XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSBkYXRhLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGQgPSBkYXRhW2pdO1xuICAgICAgICBzdHJpbmdpZmllci53cml0ZShkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmdpZmllci5lbmQoKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBjaHVua3MgPSBbXTtcbiAgICBzdHJpbmdpZmllci5vbigncmVhZGFibGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjaHVuaywgcmVzdWx0cztcbiAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgIHdoaWxlIChjaHVuayA9IHN0cmluZ2lmaWVyLnJlYWQoKSkge1xuICAgICAgICByZXN1bHRzLnB1c2goY2h1bmtzLnB1c2goY2h1bmspKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0pO1xuICAgIHN0cmluZ2lmaWVyLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gICAgc3RyaW5naWZpZXIub24oJ2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIGNodW5rcy5qb2luKCcnKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZ2lmaWVyO1xufTtcblxuU3RyaW5naWZpZXIgPSBmdW5jdGlvbihvcHRzKSB7XG4gIHZhciBiYXNlLCBiYXNlMSwgYmFzZTEwLCBiYXNlMTEsIGJhc2UxMiwgYmFzZTEzLCBiYXNlMiwgYmFzZTMsIGJhc2U0LCBiYXNlNSwgYmFzZTYsIGJhc2U3LCBiYXNlOCwgYmFzZTksIGssIG9wdGlvbnMsIHY7XG4gIGlmIChvcHRzID09IG51bGwpIHtcbiAgICBvcHRzID0ge307XG4gIH1cbiAgb3B0aW9ucyA9IHt9O1xuICBmb3IgKGsgaW4gb3B0cykge1xuICAgIHYgPSBvcHRzW2tdO1xuICAgIG9wdGlvbnNba10gPSB2O1xuICB9XG4gIHN0cmVhbS5UcmFuc2Zvcm0uY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgaWYgKChiYXNlID0gdGhpcy5vcHRpb25zKS5kZWxpbWl0ZXIgPT0gbnVsbCkge1xuICAgIGJhc2UuZGVsaW1pdGVyID0gJywnO1xuICB9XG4gIGlmICgoYmFzZTEgPSB0aGlzLm9wdGlvbnMpLnF1b3RlID09IG51bGwpIHtcbiAgICBiYXNlMS5xdW90ZSA9ICdcIic7XG4gIH1cbiAgaWYgKChiYXNlMiA9IHRoaXMub3B0aW9ucykucXVvdGVkID09IG51bGwpIHtcbiAgICBiYXNlMi5xdW90ZWQgPSBmYWxzZTtcbiAgfVxuICBpZiAoKGJhc2UzID0gdGhpcy5vcHRpb25zKS5xdW90ZWRFbXB0eSA9PSBudWxsKSB7XG4gICAgYmFzZTMucXVvdGVkRW1wdHkgPSB2b2lkIDA7XG4gIH1cbiAgaWYgKChiYXNlNCA9IHRoaXMub3B0aW9ucykucXVvdGVkU3RyaW5nID09IG51bGwpIHtcbiAgICBiYXNlNC5xdW90ZWRTdHJpbmcgPSBmYWxzZTtcbiAgfVxuICBpZiAoKGJhc2U1ID0gdGhpcy5vcHRpb25zKS5lb2YgPT0gbnVsbCkge1xuICAgIGJhc2U1LmVvZiA9IHRydWU7XG4gIH1cbiAgaWYgKChiYXNlNiA9IHRoaXMub3B0aW9ucykuZXNjYXBlID09IG51bGwpIHtcbiAgICBiYXNlNi5lc2NhcGUgPSAnXCInO1xuICB9XG4gIGlmICgoYmFzZTcgPSB0aGlzLm9wdGlvbnMpLmNvbHVtbnMgPT0gbnVsbCkge1xuICAgIGJhc2U3LmNvbHVtbnMgPSBudWxsO1xuICB9XG4gIGlmICgoYmFzZTggPSB0aGlzLm9wdGlvbnMpLmhlYWRlciA9PSBudWxsKSB7XG4gICAgYmFzZTguaGVhZGVyID0gZmFsc2U7XG4gIH1cbiAgaWYgKChiYXNlOSA9IHRoaXMub3B0aW9ucykuZm9ybWF0dGVycyA9PSBudWxsKSB7XG4gICAgYmFzZTkuZm9ybWF0dGVycyA9IHt9O1xuICB9XG4gIGlmICgoYmFzZTEwID0gdGhpcy5vcHRpb25zLmZvcm1hdHRlcnMpLmRhdGUgPT0gbnVsbCkge1xuICAgIGJhc2UxMC5kYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbHVlLmdldFRpbWUoKTtcbiAgICB9O1xuICB9XG4gIGlmICgoYmFzZTExID0gdGhpcy5vcHRpb25zLmZvcm1hdHRlcnMpLmJvb2wgPT0gbnVsbCkge1xuICAgIGJhc2UxMS5ib29sID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJzEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgaWYgKChiYXNlMTIgPSB0aGlzLm9wdGlvbnMuZm9ybWF0dGVycykub2JqZWN0ID09IG51bGwpIHtcbiAgICBiYXNlMTIub2JqZWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuICBpZiAoKGJhc2UxMyA9IHRoaXMub3B0aW9ucykucm93RGVsaW1pdGVyID09IG51bGwpIHtcbiAgICBiYXNlMTMucm93RGVsaW1pdGVyID0gJ1xcbic7XG4gIH1cbiAgaWYgKHRoaXMuY291bnRXcml0ZW4gPT0gbnVsbCkge1xuICAgIHRoaXMuY291bnRXcml0ZW4gPSAwO1xuICB9XG4gIHN3aXRjaCAodGhpcy5vcHRpb25zLnJvd0RlbGltaXRlcikge1xuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgdGhpcy5vcHRpb25zLnJvd0RlbGltaXRlciA9IG51bGw7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd1bml4JzpcbiAgICAgIHRoaXMub3B0aW9ucy5yb3dEZWxpbWl0ZXIgPSBcIlxcblwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbWFjJzpcbiAgICAgIHRoaXMub3B0aW9ucy5yb3dEZWxpbWl0ZXIgPSBcIlxcclwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnd2luZG93cyc6XG4gICAgICB0aGlzLm9wdGlvbnMucm93RGVsaW1pdGVyID0gXCJcXHJcXG5cIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VuaWNvZGUnOlxuICAgICAgdGhpcy5vcHRpb25zLnJvd0RlbGltaXRlciA9IFwiXFx1MjAyOFwiO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxudXRpbC5pbmhlcml0cyhTdHJpbmdpZmllciwgc3RyZWFtLlRyYW5zZm9ybSk7XG5cbm1vZHVsZS5leHBvcnRzLlN0cmluZ2lmaWVyID0gU3RyaW5naWZpZXI7XG5cblN0cmluZ2lmaWVyLnByb3RvdHlwZS5oZWFkZXJzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBrLCBsYWJlbCwgbGFiZWxzO1xuICBpZiAoIXRoaXMub3B0aW9ucy5oZWFkZXIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCF0aGlzLm9wdGlvbnMuY29sdW1ucykge1xuICAgIHJldHVybjtcbiAgfVxuICBsYWJlbHMgPSB0aGlzLm9wdGlvbnMuY29sdW1ucztcbiAgaWYgKHR5cGVvZiBsYWJlbHMgPT09ICdvYmplY3QnKSB7XG4gICAgbGFiZWxzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3VsdHM7XG4gICAgICByZXN1bHRzID0gW107XG4gICAgICBmb3IgKGsgaW4gbGFiZWxzKSB7XG4gICAgICAgIGxhYmVsID0gbGFiZWxzW2tdO1xuICAgICAgICByZXN1bHRzLnB1c2gobGFiZWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfSkoKTtcbiAgfVxuICBpZiAodGhpcy5vcHRpb25zLmVvZikge1xuICAgIGxhYmVscyA9IHRoaXMuc3RyaW5naWZ5KGxhYmVscykgKyB0aGlzLm9wdGlvbnMucm93RGVsaW1pdGVyO1xuICB9IGVsc2Uge1xuICAgIGxhYmVscyA9IHRoaXMuc3RyaW5naWZ5KGxhYmVscyk7XG4gIH1cbiAgcmV0dXJuIHN0cmVhbS5UcmFuc2Zvcm0ucHJvdG90eXBlLndyaXRlLmNhbGwodGhpcywgbGFiZWxzKTtcbn07XG5cblN0cmluZ2lmaWVyLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbihjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gIGlmICh0aGlzLmNvdW50V3JpdGVuID09PSAwKSB7XG4gICAgdGhpcy5oZWFkZXJzKCk7XG4gIH1cbiAgcmV0dXJuIHN0cmVhbS5UcmFuc2Zvcm0ucHJvdG90eXBlLmVuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuU3RyaW5naWZpZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICB2YXIgYmFzZSwgZSwgcHJlc2VydmU7XG4gIGlmIChjaHVuayA9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByZXNlcnZlID0gdHlwZW9mIGNodW5rICE9PSAnb2JqZWN0JztcbiAgaWYgKCFwcmVzZXJ2ZSkge1xuICAgIGlmICh0aGlzLmNvdW50V3JpdGVuID09PSAwICYmICFBcnJheS5pc0FycmF5KGNodW5rKSkge1xuICAgICAgaWYgKChiYXNlID0gdGhpcy5vcHRpb25zKS5jb2x1bW5zID09IG51bGwpIHtcbiAgICAgICAgYmFzZS5jb2x1bW5zID0gT2JqZWN0LmtleXMoY2h1bmspO1xuICAgICAgfVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgdGhpcy5lbWl0KCdyZWNvcmQnLCBjaHVuaywgdGhpcy5jb3VudFdyaXRlbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIHJldHVybiB0aGlzLmVtaXQoJ2Vycm9yJywgZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZW9mKSB7XG4gICAgICBjaHVuayA9IHRoaXMuc3RyaW5naWZ5KGNodW5rKSArIHRoaXMub3B0aW9ucy5yb3dEZWxpbWl0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNodW5rID0gdGhpcy5zdHJpbmdpZnkoY2h1bmspO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWFkZXIgfHwgdGhpcy5jb3VudFdyaXRlbikge1xuICAgICAgICBjaHVuayA9IHRoaXMub3B0aW9ucy5yb3dEZWxpbWl0ZXIgKyBjaHVuaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ251bWJlcicpIHtcbiAgICBjaHVuayA9IFwiXCIgKyBjaHVuaztcbiAgfVxuICBpZiAodGhpcy5jb3VudFdyaXRlbiA9PT0gMCkge1xuICAgIHRoaXMuaGVhZGVycygpO1xuICB9XG4gIGlmICghcHJlc2VydmUpIHtcbiAgICB0aGlzLmNvdW50V3JpdGVuKys7XG4gIH1cbiAgcmV0dXJuIHN0cmVhbS5UcmFuc2Zvcm0ucHJvdG90eXBlLndyaXRlLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjayk7XG59O1xuXG5TdHJpbmdpZmllci5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgdGhpcy5wdXNoKGNodW5rKTtcbiAgcmV0dXJuIGNhbGxiYWNrKCk7XG59O1xuXG5TdHJpbmdpZmllci5wcm90b3R5cGUuc3RyaW5naWZ5ID0gZnVuY3Rpb24obGluZSkge1xuICB2YXIgX2xpbmUsIGNvbHVtbiwgY29sdW1ucywgY29udGFpbnNFc2NhcGUsIGNvbnRhaW5zTGluZWJyZWFrLCBjb250YWluc1F1b3RlLCBjb250YWluc2RlbGltaXRlciwgZGVsaW1pdGVyLCBlc2NhcGUsIGZpZWxkLCBpLCBqLCBsLCBuZXdMaW5lLCBxdW90ZSwgcmVmLCByZWYxLCByZWdleHAsIHNob3VsZFF1b3RlLCB2YWx1ZTtcbiAgaWYgKHR5cGVvZiBsaW5lICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBsaW5lO1xuICB9XG4gIGNvbHVtbnMgPSB0aGlzLm9wdGlvbnMuY29sdW1ucztcbiAgaWYgKHR5cGVvZiBjb2x1bW5zID09PSAnb2JqZWN0JyAmJiBjb2x1bW5zICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KGNvbHVtbnMpKSB7XG4gICAgY29sdW1ucyA9IE9iamVjdC5rZXlzKGNvbHVtbnMpO1xuICB9XG4gIGRlbGltaXRlciA9IHRoaXMub3B0aW9ucy5kZWxpbWl0ZXI7XG4gIHF1b3RlID0gdGhpcy5vcHRpb25zLnF1b3RlO1xuICBlc2NhcGUgPSB0aGlzLm9wdGlvbnMuZXNjYXBlO1xuICBpZiAoIUFycmF5LmlzQXJyYXkobGluZSkpIHtcbiAgICBfbGluZSA9IFtdO1xuICAgIGlmIChjb2x1bW5zKSB7XG4gICAgICBmb3IgKGkgPSBqID0gMCwgcmVmID0gY29sdW1ucy5sZW5ndGg7IDAgPD0gcmVmID8gaiA8IHJlZiA6IGogPiByZWY7IGkgPSAwIDw9IHJlZiA/ICsraiA6IC0taikge1xuICAgICAgICBjb2x1bW4gPSBjb2x1bW5zW2ldO1xuICAgICAgICB2YWx1ZSA9IGdldChsaW5lLCBjb2x1bW4pO1xuICAgICAgICBfbGluZVtpXSA9ICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09PSBudWxsKSA/ICcnIDogdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29sdW1uIGluIGxpbmUpIHtcbiAgICAgICAgX2xpbmUucHVzaChsaW5lW2NvbHVtbl0pO1xuICAgICAgfVxuICAgIH1cbiAgICBsaW5lID0gX2xpbmU7XG4gICAgX2xpbmUgPSBudWxsO1xuICB9IGVsc2UgaWYgKGNvbHVtbnMpIHtcbiAgICBsaW5lLnNwbGljZShjb2x1bW5zLmxlbmd0aCk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkobGluZSkpIHtcbiAgICBuZXdMaW5lID0gJyc7XG4gICAgZm9yIChpID0gbCA9IDAsIHJlZjEgPSBsaW5lLmxlbmd0aDsgMCA8PSByZWYxID8gbCA8IHJlZjEgOiBsID4gcmVmMTsgaSA9IDAgPD0gcmVmMSA/ICsrbCA6IC0tbCkge1xuICAgICAgZmllbGQgPSBsaW5lW2ldO1xuICAgICAgaWYgKHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycpIHtcblxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZmllbGQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGZpZWxkID0gJycgKyBmaWVsZDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpZWxkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZmllbGQgPSB0aGlzLm9wdGlvbnMuZm9ybWF0dGVycy5ib29sKGZpZWxkKTtcbiAgICAgIH0gZWxzZSBpZiAoZmllbGQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIGZpZWxkID0gdGhpcy5vcHRpb25zLmZvcm1hdHRlcnMuZGF0ZShmaWVsZCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZCA9PT0gJ29iamVjdCcgJiYgZmllbGQgIT09IG51bGwpIHtcbiAgICAgICAgZmllbGQgPSB0aGlzLm9wdGlvbnMuZm9ybWF0dGVycy5vYmplY3QoZmllbGQpO1xuICAgICAgfVxuICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgIGNvbnRhaW5zZGVsaW1pdGVyID0gZmllbGQuaW5kZXhPZihkZWxpbWl0ZXIpID49IDA7XG4gICAgICAgIGNvbnRhaW5zUXVvdGUgPSBmaWVsZC5pbmRleE9mKHF1b3RlKSA+PSAwO1xuICAgICAgICBjb250YWluc0VzY2FwZSA9IGZpZWxkLmluZGV4T2YoZXNjYXBlKSA+PSAwICYmIChlc2NhcGUgIT09IHF1b3RlKTtcbiAgICAgICAgY29udGFpbnNMaW5lYnJlYWsgPSBmaWVsZC5pbmRleE9mKCdcXHInKSA+PSAwIHx8IGZpZWxkLmluZGV4T2YoJ1xcbicpID49IDA7XG4gICAgICAgIHNob3VsZFF1b3RlID0gY29udGFpbnNRdW90ZSB8fCBjb250YWluc2RlbGltaXRlciB8fCBjb250YWluc0xpbmVicmVhayB8fCB0aGlzLm9wdGlvbnMucXVvdGVkIHx8ICh0aGlzLm9wdGlvbnMucXVvdGVkU3RyaW5nICYmIHR5cGVvZiBsaW5lW2ldID09PSAnc3RyaW5nJyk7XG4gICAgICAgIGlmIChzaG91bGRRdW90ZSAmJiBjb250YWluc0VzY2FwZSkge1xuICAgICAgICAgIHJlZ2V4cCA9IGVzY2FwZSA9PT0gJ1xcXFwnID8gbmV3IFJlZ0V4cChlc2NhcGUgKyBlc2NhcGUsICdnJykgOiBuZXcgUmVnRXhwKGVzY2FwZSwgJ2cnKTtcbiAgICAgICAgICBmaWVsZCA9IGZpZWxkLnJlcGxhY2UocmVnZXhwLCBlc2NhcGUgKyBlc2NhcGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluc1F1b3RlKSB7XG4gICAgICAgICAgcmVnZXhwID0gbmV3IFJlZ0V4cChxdW90ZSwgJ2cnKTtcbiAgICAgICAgICBmaWVsZCA9IGZpZWxkLnJlcGxhY2UocmVnZXhwLCBlc2NhcGUgKyBxdW90ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZFF1b3RlKSB7XG4gICAgICAgICAgZmllbGQgPSBxdW90ZSArIGZpZWxkICsgcXVvdGU7XG4gICAgICAgIH1cbiAgICAgICAgbmV3TGluZSArPSBmaWVsZDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnF1b3RlZEVtcHR5IHx8ICgodGhpcy5vcHRpb25zLnF1b3RlZEVtcHR5ID09IG51bGwpICYmIGxpbmVbaV0gPT09ICcnICYmIHRoaXMub3B0aW9ucy5xdW90ZWRTdHJpbmcpKSB7XG4gICAgICAgIG5ld0xpbmUgKz0gcXVvdGUgKyBxdW90ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpICE9PSBsaW5lLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgbmV3TGluZSArPSBkZWxpbWl0ZXI7XG4gICAgICB9XG4gICAgfVxuICAgIGxpbmUgPSBuZXdMaW5lO1xuICB9XG4gIHJldHVybiBsaW5lO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///a7d1\n")}}]);